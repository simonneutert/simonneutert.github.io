(()=>{var _s=Object.defineProperty;var is=s=>{throw TypeError(s)};var $s=(s,e,t)=>e in s?_s(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var c=(s,e,t)=>$s(s,typeof e!="symbol"?e+"":e,t),pt=(s,e,t)=>e.has(s)||is("Cannot "+t);var m=(s,e,t)=>(pt(s,e,"read from private field"),t?t.call(s):e.get(s)),C=(s,e,t)=>e.has(s)?is("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),S=(s,e,t,i)=>(pt(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t),f=(s,e,t)=>(pt(s,e,"access private method"),t);var de={eager:"eager",lazy:"lazy"},dt=class dt extends HTMLElement{constructor(){super();c(this,"loaded",Promise.resolve());this.delegate=new dt.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return ei(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};c(dt,"delegateConstructor");var W=dt;function ei(s){return s.toLowerCase()==="lazy"?de.lazy:de.eager}var ti={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Se(s){if(s.getAttribute("data-turbo-eval")=="false")return s;{let e=document.createElement("script"),t=fs();return t&&(e.nonce=t),e.textContent=s.textContent,e.async=!1,si(e,s),e}}function si(s,e){for(let{name:t,value:i}of e.attributes)s.setAttribute(t,i)}function ii(s){let e=document.createElement("template");return e.innerHTML=s,e.content}function A(s,{target:e,cancelable:t,detail:i}={}){let r=new CustomEvent(s,{cancelable:t,bubbles:!0,composed:!0,detail:i});return e&&e.isConnected?e.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function rs(s){s.preventDefault(),s.stopImmediatePropagation()}function Ue(){return document.visibilityState==="hidden"?ds():hs()}function hs(){return new Promise(s=>requestAnimationFrame(()=>s()))}function ds(){return new Promise(s=>setTimeout(()=>s(),0))}function us(s=""){return new DOMParser().parseFromString(s,"text/html")}function ms(s,...e){let t=ri(s,e).replace(/^\n/,"").split(`
`),i=t[0].match(/^\s+/),r=i?i[0].length:0;return t.map(a=>a.slice(r)).join(`
`)}function ri(s,e){return s.reduce((t,i,r)=>{let a=e[r]==null?"":e[r];return t+i+a},"")}function ee(){return Array.from({length:36}).map((s,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*16).toString(16)).join("")}function _e(s,...e){for(let t of e.map(i=>i?.getAttribute(s)))if(typeof t=="string")return t;return null}function ni(s,...e){return e.some(t=>t&&t.hasAttribute(s))}function $e(...s){for(let e of s)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function et(...s){for(let e of s)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function oi(s,e=2e3){return new Promise(t=>{let i=()=>{s.removeEventListener("error",i),s.removeEventListener("load",i),t()};s.addEventListener("load",i,{once:!0}),s.addEventListener("error",i,{once:!0}),setTimeout(t,e)})}function gs(s){switch(s){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function ai(s){return s=="advance"||s=="replace"||s=="restore"}function oe(...s){let e=_e("data-turbo-action",...s);return ai(e)?e:null}function qt(s){return document.querySelector(`meta[name="${s}"]`)}function tt(s){let e=qt(s);return e&&e.content}function fs(){let s=qt("csp-nonce");if(s){let{nonce:e,content:t}=s;return e==""?t:e}}function li(s,e){let t=qt(s);return t||(t=document.createElement("meta"),t.setAttribute("name",s),document.head.appendChild(t)),t.setAttribute("content",e),t}function me(s,e){if(s instanceof Element)return s.closest(e)||me(s.assignedSlot||s.getRootNode()?.host,e)}function Jt(s){return!!s&&s.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof s.focus=="function"}function ps(s){return Array.from(s.querySelectorAll("[autofocus]")).find(Jt)}async function ci(s,e){let t=e();s(),await hs();let i=e();return[t,i]}function bs(s){if(s==="_blank")return!1;if(s){for(let e of document.getElementsByName(s))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function vs(s){let e=me(s,"a[href], a[xlink\\:href]");if(!e||e.href.startsWith("#")||e.hasAttribute("download"))return null;let t=e.getAttribute("target");return t&&t!=="_self"?null:e}function hi(s,e){let t=null;return(...i)=>{let r=()=>s.apply(this,i);clearTimeout(t),t=setTimeout(r,e)}}var di={"aria-disabled":{beforeSubmit:s=>{s.setAttribute("aria-disabled","true"),s.addEventListener("click",rs)},afterSubmit:s=>{s.removeAttribute("aria-disabled"),s.removeEventListener("click",rs)}},disabled:{beforeSubmit:s=>s.disabled=!0,afterSubmit:s=>s.disabled=!1}},xe,bt=class{constructor(e){C(this,xe,null);Object.assign(this,e)}get submitter(){return m(this,xe)}set submitter(e){S(this,xe,di[e]||e)}};xe=new WeakMap;var ui=new bt({mode:"on",submitter:"disabled"}),x={drive:ti,forms:ui};function T(s){return new URL(s.toString(),document.baseURI)}function we(s){let e;if(s.hash)return s.hash.slice(1);if(e=s.href.match(/#(.*)$/))return e[1]}function Kt(s,e){let t=e?.getAttribute("formaction")||s.getAttribute("action")||s.action;return T(t)}function mi(s){return(bi(s).match(/\.[^.]*$/)||[])[0]||""}function gi(s,e){let t=ns(e.origin+e.pathname);return ns(s.href)===t||s.href.startsWith(t)}function q(s,e){return gi(s,e)&&!x.drive.unvisitableExtensions.has(mi(s))}function Bs(s){return T(s.getAttribute("href")||"")}function fi(s){let e=we(s);return e!=null?s.href.slice(0,-(e.length+1)):s.href}function ze(s){return fi(s)}function Qs(s,e){return T(s).href==T(e).href}function pi(s){return s.pathname.split("/").slice(1)}function bi(s){return pi(s).slice(-1)[0]}function ns(s){return s.endsWith("/")?s:s+"/"}var Le=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return T(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},vt=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let i=this.values().next().value;this.delete(i)}super.add(e)}},Fs=new vt(20);function Is(s,e={}){let t=new Headers(e.headers||{}),i=ee();return Fs.add(i),t.append("X-Turbo-Request-Id",i),window.fetch(s,{...e,headers:t})}function _t(s){switch(s.toLowerCase()){case"get":return O.get;case"post":return O.post;case"put":return O.put;case"patch":return O.patch;case"delete":return O.delete}}var O={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function vi(s){switch(s.toLowerCase()){case ie.multipart:return ie.multipart;case ie.plain:return ie.plain;default:return ie.urlEncoded}}var ie={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},Te,Fe,Cs,ys,ae=class{constructor(e,t,i,r=new URLSearchParams,a=null,p=ie.urlEncoded){C(this,Fe);c(this,"abortController",new AbortController);C(this,Te,e=>{});let[w,E]=os(T(i),t,r,p);this.delegate=e,this.url=w,this.target=a,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:E,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=p}get method(){return this.fetchOptions.method}set method(e){let t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=_t(e)||O.get;this.url.search="";let[r,a]=os(this.url,i,t,this.enctype);this.url=r,this.fetchOptions.body=a,this.fetchOptions.method=i.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let t=await f(this,Fe,Cs).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=Is(this.url.href,e);let i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw f(this,Fe,ys).call(this,i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new Le(e);return A("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return $t(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}};Te=new WeakMap,Fe=new WeakSet,Cs=async function(e){let t=new Promise(r=>S(this,Te,r)),i=A("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:m(this,Te)},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await t,i},ys=function(e){return!A("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function $t(s){return _t(s)==O.get}function os(s,e,t,i){let r=Array.from(t).length>0?new URLSearchParams(Us(t)):s.searchParams;return $t(e)?[Bi(s,r),null]:i==ie.urlEncoded?[s,r]:[s,t]}function Us(s){let e=[];for(let[t,i]of s)i instanceof File||e.push([t,i]);return e}function Bi(s,e){let t=new URLSearchParams(Us(e));return s.search=t.toString(),s}var Bt=class{constructor(e,t){c(this,"started",!1);c(this,"intersect",e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},z=class{static wrap(e){return typeof e=="string"?new this(ii(e)):e}constructor(e){this.fragment=Qi(e)}};c(z,"contentType","text/vnd.turbo-stream.html");function Qi(s){for(let e of s.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let i of t.templateElement.content.querySelectorAll("script"))i.replaceWith(Se(i));e.replaceWith(t)}return s}var Fi=s=>s,J,st=class{constructor(e,t=Fi){c(this,"keys",[]);c(this,"entries",{});C(this,J);this.size=e,S(this,J,t)}has(e){return m(this,J).call(this,e)in this.entries}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){for(let e of Object.keys(this.entries))this.evict(e)}read(e){return this.entries[m(this,J).call(this,e)]}write(e,t){this.entries[m(this,J).call(this,e)]=t}touch(e){e=m(this,J).call(this,e);let t=this.keys.indexOf(e);t>-1&&this.keys.splice(t,1),this.keys.unshift(e),this.trim()}trim(){for(let e of this.keys.splice(this.size))this.evict(e)}evict(e){delete this.entries[e]}};J=new WeakMap;var Ii=100,re,fe,Qt=class extends st{constructor(t=1,i=Ii){super(t,ze);C(this,re,null);C(this,fe,{});this.prefetchDelay=i}putLater(t,i,r){S(this,re,setTimeout(()=>{i.perform(),this.put(t,i,r),S(this,re,null)},this.prefetchDelay))}put(t,i,r=ws){super.put(t,i),m(this,fe)[ze(t)]=new Date(new Date().getTime()+r)}clear(){super.clear(),m(this,re)&&clearTimeout(m(this,re))}evict(t){super.evict(t),delete m(this,fe)[t]}has(t){if(super.has(t)){let i=m(this,fe)[ze(t)];return i&&i>Date.now()}else return!1}};re=new WeakMap,fe=new WeakMap;var ws=10*1e3,ue=new Qt,ce={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},it=class s{constructor(e,t,i,r=!1){c(this,"state",ce.initialized);let a=Li(t,i),p=Si(wi(t,i),a),w=Ci(t,i),E=Ri(t,i);this.delegate=e,this.formElement=t,this.submitter=i,this.fetchRequest=new ae(this,a,p,w,t,E),this.mustRedirect=r}static confirmMethod(e){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=T(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:t}=ce,i=_e("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await(typeof x.forms.confirm=="function"?x.forms.confirm:s.confirmMethod)(i,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=ce;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=yi(tt("csrf-param"))||tt("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(z.contentType)}requestStarted(e){this.state=ce.waiting,this.submitter&&x.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),$e(this.formElement),A("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){ue.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(ue.clear(),this.requestMustRedirect(e)&&Ui(t)){let i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=ce.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=ce.stopped,this.submitter&&x.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),et(this.formElement),A("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||ni("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function Ci(s,e){let t=new FormData(s),i=e?.getAttribute("name"),r=e?.getAttribute("value");return i&&t.append(i,r||""),t}function yi(s){if(s!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(s));if(t){let i=t.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function Ui(s){return s.statusCode==200&&!s.redirected}function wi(s,e){let t=typeof s.action=="string"?s.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":s.getAttribute("action")||t||""}function Si(s,e){let t=T(s);return $t(e)&&(t.search=""),t}function Li(s,e){let t=e?.getAttribute("formmethod")||s.getAttribute("method")||"";return _t(t.toLowerCase())||O.get}function Ri(s,e){return vi(e?.getAttribute("formenctype")||s.enctype)}var Qe=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return ps(this.element)}get permanentElements(){return Ls(this.element)}getPermanentElementById(e){return Ss(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let i of this.permanentElements){let{id:r}=i,a=e.getPermanentElementById(r);a&&(t[r]=[i,a])}return t}};function Ss(s,e){return s.querySelector(`#${e}[data-turbo-permanent]`)}function Ls(s){return s.querySelectorAll("[id][data-turbo-permanent]")}var Re=class{constructor(e,t){c(this,"started",!1);c(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});c(this,"submitBubbled",e=>{if(!e.defaultPrevented){let t=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;t&&Ai(t,i)&&Ei(t,i)&&this.delegate.willSubmitForm(t,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,i))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function Ai(s,e){return(e?.getAttribute("formmethod")||s.getAttribute("method"))!="dialog"}function Ei(s,e){let t=e?.getAttribute("formtarget")||s.getAttribute("target");return bs(t)}var Oe,We,rt=class{constructor(e,t){C(this,Oe,e=>{});C(this,We,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(we(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:i,willRender:r,newSnapshot:a}=e,p=r;if(i)try{this.renderPromise=new Promise(M=>S(this,Oe,M)),this.renderer=e,await this.prepareToRenderSnapshot(e);let w=new Promise(M=>S(this,We,M)),E={resume:m(this,We),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(a,E)||await w,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(a,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,m(this,Oe).call(this,void 0),delete this.renderPromise}else p&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}};Oe=new WeakMap,We=new WeakMap;var Ft=class extends rt{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Qe(this.element)}},nt=class{constructor(e,t){c(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});c(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});c(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){let t=e.composed?e.target?.parentElement:e.target,i=vs(t)||t;return i instanceof Element&&i.closest("turbo-frame, html")==this.element}},ot=class{constructor(e,t){c(this,"started",!1);c(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});c(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let t=e.composedPath&&e.composedPath()[0]||e.target,i=vs(t);if(i&&bs(i.target)){let r=Bs(i);this.delegate.willFollowLinkToLocation(i,r,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,r))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},at=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new ot(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,i){return this.delegate.willSubmitFormLinkToLocation(e,t,i)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){let i=document.createElement("form"),r="hidden";for(let[le,B]of t.searchParams)i.append(Object.assign(document.createElement("input"),{type:r,name:le,value:B}));let a=Object.assign(t,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",a.href),i.setAttribute("hidden","");let p=e.getAttribute("data-turbo-method");p&&i.setAttribute("method",p);let w=e.getAttribute("data-turbo-frame");w&&i.setAttribute("data-turbo-frame",w);let E=oe(e);E&&i.setAttribute("data-turbo-action",E);let P=e.getAttribute("data-turbo-confirm");P&&i.setAttribute("data-turbo-confirm",P),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}},lt=class{static async preservingPermanentElements(e,t,i){let r=new this(e,t);r.enter(),await i(),r.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,i]=this.permanentElementMap[e];this.delegate.enteringBardo(t,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=Gi(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function Gi(s){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",s.id),e}var j,Ae=class{constructor(e,t,i,r=!0){C(this,j,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=r,this.renderElement=this.constructor.renderElement,this.promise=new Promise((a,p)=>this.resolvingFunctions={resolve:a,reject:p})}static renderElement(e,t){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await lt.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){m(this,j)||e.contains(this.currentSnapshot.activeElement)&&S(this,j,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(m(this,j))&&m(this,j)instanceof HTMLElement&&(m(this,j).focus(),S(this,j,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}};j=new WeakMap;var Ee=class extends Ae{static renderElement(e,t){let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let r=t,a=r.ownerDocument?.createRange();a&&(a.selectNodeContents(r),e.appendChild(a.extractContents()))}constructor(e,t,i,r,a,p=!0){super(t,i,r,a,p),this.delegate=e}get shouldRender(){return!0}async render(){await Ue(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Ue(),this.focusFirstAutofocusableElement(),await Ue(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=xi(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=Ti(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:i}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=Se(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function xi(s,e){return s=="end"||s=="start"||s=="center"||s=="nearest"?s:e}function Ti(s,e){return s=="auto"||s=="smooth"?s:e}var Oi=(function(){let s=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:s,afterNodeAdded:s,beforeNodeMorphed:s,afterNodeMorphed:s,beforeNodeRemoved:s,afterNodeRemoved:s,beforeAttributeUpdated:s},head:{style:"merge",shouldPreserve:B=>B.getAttribute("im-preserve")==="true",shouldReAppend:B=>B.getAttribute("im-re-append")==="true",shouldRemove:s,afterHeadMorphed:s},restoreFocus:!0};function t(B,R,I={}){B=M(B);let U=le(R),y=P(B,U,I),Q=r(y,()=>w(y,B,U,l=>l.morphStyle==="innerHTML"?(a(l,B,U),Array.from(B.childNodes)):i(l,B,U)));return y.pantry.remove(),Q}function i(B,R,I){let U=le(R);return a(B,U,I,R,R.nextSibling),Array.from(U.childNodes)}function r(B,R){if(!B.config.restoreFocus)return R();let I=document.activeElement;if(!(I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement))return R();let{id:U,selectionStart:y,selectionEnd:Q}=I,l=R();return U&&U!==document.activeElement?.getAttribute("id")&&(I=B.target.querySelector(`[id="${U}"]`),I?.focus()),I&&!I.selectionEnd&&Q&&I.setSelectionRange(y,Q),l}let a=(function(){function B(n,o,d,h=null,g=null){o instanceof HTMLTemplateElement&&d instanceof HTMLTemplateElement&&(o=o.content,d=d.content),h||(h=o.firstChild);for(let b of d.childNodes){if(h&&h!=g){let L=I(n,b,h,g);if(L){L!==h&&y(n,h,L),p(L,b,n),h=L.nextSibling;continue}}if(b instanceof Element){let L=b.getAttribute("id");if(n.persistentIds.has(L)){let D=Q(o,L,h,n);p(D,b,n),h=D.nextSibling;continue}}let F=R(o,b,h,n);F&&(h=F.nextSibling)}for(;h&&h!=g;){let b=h;h=h.nextSibling,U(n,b)}}function R(n,o,d,h){if(h.callbacks.beforeNodeAdded(o)===!1)return null;if(h.idMap.has(o)){let g=document.createElement(o.tagName);return n.insertBefore(g,d),p(g,o,h),h.callbacks.afterNodeAdded(g),g}else{let g=document.importNode(o,!0);return n.insertBefore(g,d),h.callbacks.afterNodeAdded(g),g}}let I=(function(){function n(h,g,b,F){let L=null,D=g.nextSibling,ss=0,N=b;for(;N&&N!=F;){if(d(N,g)){if(o(h,N,g))return N;L===null&&(h.idMap.has(N)||(L=N))}if(L===null&&D&&d(N,D)&&(ss++,D=D.nextSibling,ss>=2&&(L=void 0)),h.activeElementAndParents.includes(N))break;N=N.nextSibling}return L||null}function o(h,g,b){let F=h.idMap.get(g),L=h.idMap.get(b);if(!L||!F)return!1;for(let D of F)if(L.has(D))return!0;return!1}function d(h,g){let b=h,F=g;return b.nodeType===F.nodeType&&b.tagName===F.tagName&&(!b.getAttribute?.("id")||b.getAttribute?.("id")===F.getAttribute?.("id"))}return n})();function U(n,o){if(n.idMap.has(o))u(n.pantry,o,null);else{if(n.callbacks.beforeNodeRemoved(o)===!1)return;o.parentNode?.removeChild(o),n.callbacks.afterNodeRemoved(o)}}function y(n,o,d){let h=o;for(;h&&h!==d;){let g=h;h=h.nextSibling,U(n,g)}return h}function Q(n,o,d,h){let g=h.target.getAttribute?.("id")===o&&h.target||h.target.querySelector(`[id="${o}"]`)||h.pantry.querySelector(`[id="${o}"]`);return l(g,h),u(n,g,d),g}function l(n,o){let d=n.getAttribute("id");for(;n=n.parentNode;){let h=o.idMap.get(n);h&&(h.delete(d),h.size||o.idMap.delete(n))}}function u(n,o,d){if(n.moveBefore)try{n.moveBefore(o,d)}catch{n.insertBefore(o,d)}else n.insertBefore(o,d)}return B})(),p=(function(){function B(l,u,n){return n.ignoreActive&&l===document.activeElement?null:(n.callbacks.beforeNodeMorphed(l,u)===!1||(l instanceof HTMLHeadElement&&n.head.ignore||(l instanceof HTMLHeadElement&&n.head.style!=="morph"?E(l,u,n):(R(l,u,n),Q(l,n)||a(n,l,u))),n.callbacks.afterNodeMorphed(l,u)),l)}function R(l,u,n){let o=u.nodeType;if(o===1){let d=l,h=u,g=d.attributes,b=h.attributes;for(let F of b)y(F.name,d,"update",n)||d.getAttribute(F.name)!==F.value&&d.setAttribute(F.name,F.value);for(let F=g.length-1;0<=F;F--){let L=g[F];if(L&&!h.hasAttribute(L.name)){if(y(L.name,d,"remove",n))continue;d.removeAttribute(L.name)}}Q(d,n)||I(d,h,n)}(o===8||o===3)&&l.nodeValue!==u.nodeValue&&(l.nodeValue=u.nodeValue)}function I(l,u,n){if(l instanceof HTMLInputElement&&u instanceof HTMLInputElement&&u.type!=="file"){let o=u.value,d=l.value;U(l,u,"checked",n),U(l,u,"disabled",n),u.hasAttribute("value")?d!==o&&(y("value",l,"update",n)||(l.setAttribute("value",o),l.value=o)):y("value",l,"remove",n)||(l.value="",l.removeAttribute("value"))}else if(l instanceof HTMLOptionElement&&u instanceof HTMLOptionElement)U(l,u,"selected",n);else if(l instanceof HTMLTextAreaElement&&u instanceof HTMLTextAreaElement){let o=u.value,d=l.value;if(y("value",l,"update",n))return;o!==d&&(l.value=o),l.firstChild&&l.firstChild.nodeValue!==o&&(l.firstChild.nodeValue=o)}}function U(l,u,n,o){let d=u[n],h=l[n];if(d!==h){let g=y(n,l,"update",o);g||(l[n]=u[n]),d?g||l.setAttribute(n,""):y(n,l,"remove",o)||l.removeAttribute(n)}}function y(l,u,n,o){return l==="value"&&o.ignoreActiveValue&&u===document.activeElement?!0:o.callbacks.beforeAttributeUpdated(l,u,n)===!1}function Q(l,u){return!!u.ignoreActiveValue&&l===document.activeElement&&l!==document.body}return B})();function w(B,R,I,U){if(B.head.block){let y=R.querySelector("head"),Q=I.querySelector("head");if(y&&Q){let l=E(y,Q,B);return Promise.all(l).then(()=>{let u=Object.assign(B,{head:{block:!1,ignore:!0}});return U(u)})}}return U(B)}function E(B,R,I){let U=[],y=[],Q=[],l=[],u=new Map;for(let o of R.children)u.set(o.outerHTML,o);for(let o of B.children){let d=u.has(o.outerHTML),h=I.head.shouldReAppend(o),g=I.head.shouldPreserve(o);d||g?h?y.push(o):(u.delete(o.outerHTML),Q.push(o)):I.head.style==="append"?h&&(y.push(o),l.push(o)):I.head.shouldRemove(o)!==!1&&y.push(o)}l.push(...u.values());let n=[];for(let o of l){let d=document.createRange().createContextualFragment(o.outerHTML).firstChild;if(I.callbacks.beforeNodeAdded(d)!==!1){if("href"in d&&d.href||"src"in d&&d.src){let h,g=new Promise(function(b){h=b});d.addEventListener("load",function(){h()}),n.push(g)}B.appendChild(d),I.callbacks.afterNodeAdded(d),U.push(d)}}for(let o of y)I.callbacks.beforeNodeRemoved(o)!==!1&&(B.removeChild(o),I.callbacks.afterNodeRemoved(o));return I.head.afterHeadMorphed(B,{added:U,kept:Q,removed:y}),n}let P=(function(){function B(n,o,d){let{persistentIds:h,idMap:g}=l(n,o),b=R(d),F=b.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(F))throw`Do not understand how to morph style ${F}`;return{target:n,newContent:o,config:b,morphStyle:F,ignoreActive:b.ignoreActive,ignoreActiveValue:b.ignoreActiveValue,restoreFocus:b.restoreFocus,idMap:g,persistentIds:h,pantry:I(),activeElementAndParents:U(n),callbacks:b.callbacks,head:b.head}}function R(n){let o=Object.assign({},e);return Object.assign(o,n),o.callbacks=Object.assign({},e.callbacks,n.callbacks),o.head=Object.assign({},e.head,n.head),o}function I(){let n=document.createElement("div");return n.hidden=!0,document.body.insertAdjacentElement("afterend",n),n}function U(n){let o=[],d=document.activeElement;if(d?.tagName!=="BODY"&&n.contains(d))for(;d&&(o.push(d),d!==n);)d=d.parentElement;return o}function y(n){let o=Array.from(n.querySelectorAll("[id]"));return n.getAttribute?.("id")&&o.push(n),o}function Q(n,o,d,h){for(let g of h){let b=g.getAttribute("id");if(o.has(b)){let F=g;for(;F;){let L=n.get(F);if(L==null&&(L=new Set,n.set(F,L)),L.add(b),F===d)break;F=F.parentElement}}}}function l(n,o){let d=y(n),h=y(o),g=u(d,h),b=new Map;Q(b,g,n,d);let F=o.__idiomorphRoot||o;return Q(b,g,F,h),{persistentIds:g,idMap:b}}function u(n,o){let d=new Set,h=new Map;for(let{id:b,tagName:F}of n)h.has(b)?d.add(b):h.set(b,F);let g=new Set;for(let{id:b,tagName:F}of o)g.has(b)?d.add(b):h.get(b)===F&&g.add(b);for(let b of d)g.delete(b);return g}return B})(),{normalizeElement:M,normalizeParent:le}=(function(){let B=new WeakSet;function R(Q){return Q instanceof Document?Q.documentElement:Q}function I(Q){if(Q==null)return document.createElement("div");if(typeof Q=="string")return I(y(Q));if(B.has(Q))return Q;if(Q instanceof Node){if(Q.parentNode)return new U(Q);{let l=document.createElement("div");return l.append(Q),l}}else{let l=document.createElement("div");for(let u of[...Q])l.append(u);return l}}class U{constructor(l){this.originalNode=l,this.realParentNode=l.parentNode,this.previousSibling=l.previousSibling,this.nextSibling=l.nextSibling}get childNodes(){let l=[],u=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;u&&u!=this.nextSibling;)l.push(u),u=u.nextSibling;return l}querySelectorAll(l){return this.childNodes.reduce((u,n)=>{if(n instanceof Element){n.matches(l)&&u.push(n);let o=n.querySelectorAll(l);for(let d=0;d<o.length;d++)u.push(o[d])}return u},[])}insertBefore(l,u){return this.realParentNode.insertBefore(l,u)}moveBefore(l,u){return this.realParentNode.moveBefore(l,u)}get __idiomorphRoot(){return this.originalNode}}function y(Q){let l=new DOMParser,u=Q.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(u.match(/<\/html>/)||u.match(/<\/head>/)||u.match(/<\/body>/)){let n=l.parseFromString(Q,"text/html");if(u.match(/<\/html>/))return B.add(n),n;{let o=n.firstChild;return o&&B.add(o),o}}else{let o=l.parseFromString("<body><template>"+Q+"</template></body>","text/html").body.querySelector("template").content;return B.add(o),o}}return{normalizeElement:R,normalizeParent:I}})();return{morph:t,defaults:e}})();function gt(s,e,{callbacks:t,...i}={}){Oi.morph(s,e,{...i,callbacks:new It(t)})}function es(s,e,t={}){gt(s,e.childNodes,{...t,morphStyle:"innerHTML"})}function Rs(s,e){return s instanceof W&&s.shouldReloadWithMorph&&(!e||Wi(s,e))&&!s.closest("[data-turbo-permanent]")}function Wi(s,e){return e instanceof Element&&e.nodeName==="TURBO-FRAME"&&s.id===e.id&&(!e.getAttribute("src")||Qs(s.src,e.getAttribute("src")))}function As(s){return s.parentElement.closest("turbo-frame[src][refresh=morph]")}var ke,It=class{constructor({beforeNodeMorphed:e}={}){C(this,ke);c(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));c(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&m(this,ke).call(this,e,t)?!A("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});c(this,"beforeAttributeUpdated",(e,t,i)=>!A("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:i}}).defaultPrevented);c(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));c(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&A("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});S(this,ke,e||(()=>!0))}};ke=new WeakMap;var ct=class extends Ee{static renderElement(e,t){A("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),es(e,t,{callbacks:{beforeNodeMorphed:(i,r)=>Rs(i,r)&&As(i)===e?(i.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}},X=class X{constructor(){c(this,"hiding",!1);c(this,"value",0);c(this,"visible",!1);c(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return ms`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${X.animationDuration}ms ease-out,
          opacity ${X.animationDuration/2}ms ${X.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,X.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,X.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=X.defaultCSS;let t=fs();return t&&(e.nonce=t),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}};c(X,"animationDuration",300);var Ct=X,yt=class extends Qe{constructor(){super(...arguments);c(this,"detailsByOuterHTML",this.children.filter(t=>!Zi(t)).map(t=>Hi(t)).reduce((t,i)=>{let{outerHTML:r}=i,a=r in t?t[r]:{type:ki(i),tracked:Mi(i),elements:[]};return{...t,[r]:{...a,elements:[...a.elements,i]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,i){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in i.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==t).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,i)=>{let{type:r,tracked:a,elements:p}=this.detailsByOuterHTML[i];return r==null&&!a?[...t,...p]:p.length>1?[...t,...p.slice(1)]:t},[])}getMetaValue(t){let i=this.findMetaElementByName(t);return i?i.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((i,r)=>{let{elements:[a]}=this.detailsByOuterHTML[r];return Di(a,t)?a:i},void 0|void 0)}};function ki(s){if(Ni(s))return"script";if(Vi(s))return"stylesheet"}function Mi(s){return s.getAttribute("data-turbo-track")=="reload"}function Ni(s){return s.localName=="script"}function Zi(s){return s.localName=="noscript"}function Vi(s){let e=s.localName;return e=="style"||e=="link"&&s.getAttribute("rel")=="stylesheet"}function Di(s,e){return s.localName=="meta"&&s.getAttribute("name")==e}function Hi(s){return s.hasAttribute("nonce")&&s.setAttribute("nonce",""),s}var Z=class s extends Qe{static fromHTMLString(e=""){return this.fromDocument(us(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:i}){return new this(e,t,new yt(i))}constructor(e,t,i){super(t),this.documentElement=e,this.headSnapshot=i}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(let[r,a]of t.entries()){let p=i[r];for(let w of p.selectedOptions)w.selected=!1;for(let w of a.selectedOptions)p.options[w.index].selected=!0}for(let r of e.querySelectorAll('input[type="password"]'))r.value="";for(let r of e.querySelectorAll("noscript"))r.remove();return new s(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get dir(){return this.documentElement.getAttribute("dir")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return T(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get refreshMethod(){return this.getSetting("refresh-method")}get refreshScroll(){return this.getSetting("refresh-scroll")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},Me,K,Ut=class{constructor(){C(this,Me,!1);C(this,K,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!m(this,Me)?(S(this,Me,!0),S(this,K,m(this,K).then(async()=>{await document.startViewTransition(t).finished}))):S(this,K,m(this,K).then(t)),m(this,K)}get viewTransitionsAvailable(){return document.startViewTransition}};Me=new WeakMap,K=new WeakMap;var Xi={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1,refresh:{}},Ye={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},H={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},ge={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},ji={advance:"forward",restore:"back",replace:"none"},wt=class{constructor(e,t,i,r={}){c(this,"identifier",ee());c(this,"timingMetrics",{});c(this,"followedRedirect",!1);c(this,"historyChanged",!1);c(this,"scrolled",!1);c(this,"shouldCacheSnapshot",!0);c(this,"acceptsStreamResponse",!1);c(this,"snapshotCached",!1);c(this,"state",H.initialized);c(this,"viewTransitioner",new Ut);this.delegate=e,this.location=t,this.restorationIdentifier=i||ee();let{action:a,historyChanged:p,referrer:w,snapshot:E,snapshotHTML:P,response:M,visitCachedSnapshot:le,willRender:B,updateHistory:R,shouldCacheSnapshot:I,acceptsStreamResponse:U,direction:y,refresh:Q}={...Xi,...r};this.action=a,this.historyChanged=p,this.referrer=w,this.snapshot=E,this.snapshotHTML=P,this.response=M,this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=le,this.willRender=B,this.updateHistory=R,this.scrolled=!B,this.shouldCacheSnapshot=I,this.acceptsStreamResponse=U,this.direction=y||ji[a],this.refresh=Q}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}start(){this.state==H.initialized&&(this.recordTimingMetric(Ye.visitStart),this.state=H.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==H.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=H.canceled)}complete(){this.state==H.started&&(this.recordTimingMetric(Ye.visitEnd),this.adapter.visitCompleted(this),this.state=H.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==H.started&&(this.state=H.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,t=gs(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ae(this,O.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Ye.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;as(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Ye.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,as(e)&&t!=null){let i=Z.fromHTMLString(t);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(Z.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!we(this.location)||e.hasAnchor(we(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Z.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(z.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let i=await t.responseHTML,{redirected:r,statusCode:a}=t;i==null?this.recordResponse({statusCode:ge.contentTypeMismatch,redirected:r}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:a,responseHTML:i,redirected:r}))}async requestFailedWithResponse(e,t){let i=await t.responseHTML,{redirected:r,statusCode:a}=t;i==null?this.recordResponse({statusCode:ge.contentTypeMismatch,redirected:r}):this.recordResponse({statusCode:a,responseHTML:i,redirected:r})}requestErrored(e,t){this.recordResponse({statusCode:ge.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=we(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function as(s){return s>=200&&s<300}var St=class{constructor(e){c(this,"progressBar",new Ct);c(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){q(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||ee(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case ge.networkFailure:case ge.timeoutFailure:case ge.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){A("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}},Lt=class{constructor(){c(this,"selector","[data-turbo-temporary]");c(this,"started",!1);c(this,"removeTemporaryElements",e=>{for(let t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector)]}},k,Es,Pe,qe,Rt=class{constructor(e,t){C(this,k);this.session=e,this.element=t,this.linkInterceptor=new nt(this,t),this.formSubmitObserver=new Re(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,i){return f(this,k,Pe).call(this,e)}linkClickIntercepted(e,t,i){let r=f(this,k,qe).call(this,e);r&&r.delegate.linkClickIntercepted(e,t,i)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&f(this,k,Es).call(this,e,t)&&f(this,k,Pe).call(this,e,t)}formSubmitted(e,t){let i=f(this,k,qe).call(this,e,t);i&&i.delegate.formSubmitted(e,t)}};k=new WeakSet,Es=function(e,t){let i=Kt(e,t),r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),a=T(r?.content??"/");return f(this,k,Pe).call(this,e,t)&&q(i,a)},Pe=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let r=f(this,k,qe).call(this,e,t);return r?r!=e.closest("turbo-frame"):!1}else return!1},qe=function(e,t){let i=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(i&&i!="_top"){let r=this.element.querySelector(`#${i}:not([disabled])`);if(r instanceof W)return r}};var At=class{constructor(e){c(this,"location");c(this,"restorationIdentifier",ee());c(this,"restorationData",{});c(this,"started",!1);c(this,"currentIndex",0);c(this,"onPopState",e=>{let{turbo:t}=e.state||{};if(this.location=new URL(window.location.href),t){let{restorationIdentifier:i,restorationIndex:r}=t;this.restorationIdentifier=i;let a=r>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,a),this.currentIndex=r}else this.currentIndex++,this.delegate.historyPoppedWithEmptyState(this.location)});this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,i=ee()){e===history.pushState&&++this.currentIndex;let r={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};e.call(history,r,"",t.href),this.location=t,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,i=this.restorationData[t];this.restorationData[t]={...i,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}},pe,Ne,Ze,Ve,ut,De,Ie,Gs,xs,Et=class{constructor(e,t){C(this,Ie);c(this,"started",!1);C(this,pe,null);C(this,Ne,()=>{this.eventTarget.addEventListener("mouseenter",m(this,Ze),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",m(this,Ve),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",m(this,De),!0),this.started=!0});C(this,Ze,e=>{if(tt("turbo-prefetch")==="false")return;let t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&f(this,Ie,xs).call(this,t)){let r=t,a=Bs(r);if(this.delegate.canPrefetchRequestToLocation(r,a)){S(this,pe,r);let p=new ae(this,O.get,a,new URLSearchParams,t);p.fetchOptions.priority="low",ue.putLater(a,p,m(this,Ie,Gs))}}});C(this,Ve,e=>{e.target===m(this,pe)&&m(this,ut).call(this)});C(this,ut,()=>{ue.clear(),S(this,pe,null)});C(this,De,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let t=ue.get(e.detail.url);t&&(e.detail.fetchRequest=t),ue.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",m(this,Ne),{once:!0}):m(this,Ne).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",m(this,Ze),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",m(this,Ve),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",m(this,De),!0),this.started=!1)}prepareRequest(e){let t=e.target;e.headers["X-Sec-Purpose"]="prefetch";let i=t.closest("turbo-frame"),r=t.getAttribute("data-turbo-frame")||i?.getAttribute("target")||i?.id;r&&r!=="_top"&&(e.headers["Turbo-Frame"]=r)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}};pe=new WeakMap,Ne=new WeakMap,Ze=new WeakMap,Ve=new WeakMap,ut=new WeakMap,De=new WeakMap,Ie=new WeakSet,Gs=function(){return Number(tt("turbo-prefetch-cache-time"))||ws},xs=function(e){return!(!e.getAttribute("href")||Yi(e)||zi(e)||Pi(e)||qi(e)||Ki(e))};var Yi=s=>s.origin!==document.location.origin||!["http:","https:"].includes(s.protocol)||s.hasAttribute("target"),zi=s=>s.pathname+s.search===document.location.pathname+document.location.search||s.href.startsWith("#"),Pi=s=>{if(s.getAttribute("data-turbo-prefetch")==="false"||s.getAttribute("data-turbo")==="false")return!0;let e=me(s,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},qi=s=>{let e=s.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Ji(s)||s.hasAttribute("data-turbo-confirm")||s.hasAttribute("data-turbo-stream"))},Ji=s=>s.hasAttribute("data-remote")||s.hasAttribute("data-behavior")||s.hasAttribute("data-confirm")||s.hasAttribute("data-method"),Ki=s=>A("turbo:before-prefetch",{target:s,cancelable:!0}).defaultPrevented,Ce,Ts,Os,Gt=class{constructor(e){C(this,Ce);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,i={}){this.stop(),this.currentVisit=new wt(this,T(e),t,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new it(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let i=await t.responseHTML;if(i){let r=e.isSafe;r||this.view.clearSnapshotCache();let{statusCode:a,redirected:p}=t,E={action:f(this,Ce,Ts).call(this,e,t),shouldCacheSnapshot:r,response:{statusCode:a,responseHTML:i,redirected:p}};this.proposeVisit(t.location,E)}}}async formSubmissionFailedWithResponse(e,t){let i=await t.responseHTML;if(i){let r=Z.fromHTMLString(i);t.serverError?await this.view.renderError(r,this.currentVisit):await this.view.renderPage(r,!1,!0,this.currentVisit),r.refreshScroll!=="preserve"&&this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){return!1}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}};Ce=new WeakSet,Ts=function(e,t){let{submitter:i,formElement:r}=e;return oe(i,r)||f(this,Ce,Os).call(this,t)},Os=function(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"};var te={initial:0,loading:1,interactive:2,complete:3},xt=class{constructor(e){c(this,"stage",te.initial);c(this,"started",!1);c(this,"interpretReadyState",()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});c(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==te.initial&&(this.stage=te.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==te.loading&&(this.stage=te.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==te.interactive&&(this.stage=te.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},Tt=class{constructor(e){c(this,"started",!1);c(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},Ot=class{render({fragment:e}){lt.preservingPermanentElements(this,_i(e),()=>{$i(e,()=>{er(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function _i(s){let e=Ls(document.documentElement),t={};for(let i of e){let{id:r}=i;for(let a of s.querySelectorAll("turbo-stream")){let p=Ss(a.templateElement.content,r);p&&(t[r]=[i,p])}}return t}async function $i(s,e){let t=`turbo-stream-autofocus-${ee()}`,i=s.querySelectorAll("turbo-stream"),r=tr(i),a=null;if(r&&(r.id?a=r.id:a=t,r.id=a),e(),await Ue(),(document.activeElement==null||document.activeElement==document.body)&&a){let w=document.getElementById(a);Jt(w)&&w.focus(),w&&w.id==t&&w.removeAttribute("id")}}async function er(s){let[e,t]=await ci(s,()=>document.activeElement),i=e&&e.id;if(i){let r=document.getElementById(i);Jt(r)&&r!=t&&r.focus()}}function tr(s){for(let e of s){let t=ps(e.templateElement.content);if(t)return t}return null}var _,Wt=class{constructor(e){c(this,"sources",new Set);C(this,_,!1);c(this,"inspectFetchResponse",e=>{let t=sr(e);t&&ir(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});c(this,"receiveMessageEvent",e=>{m(this,_)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){m(this,_)||(S(this,_,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){m(this,_)&&(S(this,_,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(z.wrap(e))}};_=new WeakMap;function sr(s){let e=s.detail?.fetchResponse;if(e instanceof Le)return e}function ir(s){return(s.contentType??"").startsWith(z.contentType)}var kt=class extends Ae{static renderElement(e,t){let{documentElement:i,body:r}=document;i.replaceChild(t,r)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let i=Se(e);t.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},mt,Ws,Ge=class extends Ae{constructor(){super(...arguments);C(this,mt)}static renderElement(t,i){document.body&&i instanceof HTMLBodyElement?document.body.replaceWith(i):document.documentElement.appendChild(i)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){f(this,mt,Ws).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let t=this.mergeProvisionalElements(),i=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await i,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let t=[];for(let i of this.newHeadStylesheetElements)t.push(oi(i)),document.head.appendChild(i);await Promise.all(t)}copyNewHeadScriptElements(){for(let t of this.newHeadScriptElements)document.head.appendChild(Se(t))}removeUnusedDynamicStylesheetElements(){for(let t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){let t=[...this.newHeadProvisionalElements];for(let i of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(i,t)||document.head.removeChild(i);for(let i of t)document.head.appendChild(i)}isCurrentElementInElementList(t,i){for(let[r,a]of i.entries()){if(t.tagName=="TITLE"){if(a.tagName!="TITLE")continue;if(t.innerHTML==a.innerHTML)return i.splice(r,1),!0}if(a.isEqualNode(t))return i.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(let t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.removeNoscriptElements(),this.activateNewBodyScriptElements()}removeNoscriptElements(){for(let t of this.newElement.querySelectorAll("noscript"))t.remove()}activateNewBodyScriptElements(){for(let t of this.newBodyScriptElements){let i=Se(t);t.replaceWith(i)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}};mt=new WeakSet,Ws=function(){let{documentElement:t}=this.currentSnapshot,{dir:i,lang:r}=this.newSnapshot;r?t.setAttribute("lang",r):t.removeAttribute("lang"),i?t.setAttribute("dir",i):t.removeAttribute("dir")};var ht=class extends Ge{static renderElement(e,t){gt(e,t,{callbacks:{beforeNodeMorphed:(i,r)=>Rs(i,r)&&!As(i)?(i.reload(),!1):!0}}),A("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}},Mt=class extends st{constructor(e){super(e,ze)}get snapshots(){return this.entries}},Nt=class extends rt{constructor(){super(...arguments);c(this,"snapshotCache",new Mt(10));c(this,"lastRenderedLocation",new URL(location.href));c(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,i=!1,r=!0,a){let w=this.isPageRefresh(a)&&(a?.refresh?.method||this.snapshot.refreshMethod)==="morph"?ht:Ge,E=new w(this.snapshot,t,i,r);return E.shouldRender?a?.changeHistory():this.forceReloaded=!0,this.render(E)}renderError(t,i){i?.changeHistory();let r=new kt(this.snapshot,t,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:i}=this;await ds();let r=t.clone();return this.snapshotCache.put(i,r),r}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&(t?.refresh?.scroll||this.snapshot.refreshScroll)==="preserve"}get snapshot(){return Z.fromElement(this.element)}},He,Zt=class{constructor(e,t){c(this,"selector","a[data-turbo-preload]");C(this,He,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m(this,He)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",m(this,He))}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(this.snapshotCache.has(t))return;await new ae(this,O.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{let i=await t.responseHTML,r=Z.fromHTMLString(i);this.snapshotCache.put(e.url,r)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}};He=new WeakMap;var be,Je,Vt=class{constructor(e){C(this,be);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){f(this,be,Je).call(this,"")}exemptPageFromCache(){f(this,be,Je).call(this,"no-cache")}exemptPageFromPreview(){f(this,be,Je).call(this,"no-preview")}};be=new WeakSet,Je=function(e){li("turbo-cache-control",e)};var Xe,Dt=class{constructor(e){c(this,"navigator",new Gt(this));c(this,"history",new At(this));c(this,"view",new Nt(this,document.documentElement));c(this,"adapter",new St(this));c(this,"pageObserver",new xt(this));c(this,"cacheObserver",new Lt);c(this,"linkPrefetchObserver",new Et(this,document));c(this,"linkClickObserver",new ot(this,window));c(this,"formSubmitObserver",new Re(this,document));c(this,"scrollObserver",new Tt(this));c(this,"streamObserver",new Wt(this));c(this,"formLinkClickObserver",new at(this,document.documentElement));c(this,"frameRedirector",new Rt(this,document.documentElement));c(this,"streamMessageRenderer",new Ot);c(this,"cache",new Vt(this));c(this,"enabled",!0);c(this,"started",!1);C(this,Xe,150);this.recentRequests=e,this.preloader=new Zt(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let i=t.frame?document.getElementById(t.frame):null;if(i instanceof W){let r=t.action||oe(i);i.delegate.proposeVisitIfNavigatedWithAction(i,r),i.src=e.toString()}else this.navigator.proposeVisit(T(e),t)}refresh(e,t={}){t=typeof t=="string"?{requestId:t}:t;let{method:i,requestId:r,scroll:a}=t,p=r&&this.recentRequests.has(r),w=e===document.baseURI;!p&&!this.navigator.currentVisit&&w&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1,refresh:{method:i,scroll:a}})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(z.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){x.drive.progressBarDelay=e}get progressBarDelay(){return x.drive.progressBarDelay}set drive(e){x.drive.enabled=e}get drive(){return x.drive.enabled}set formMode(e){x.forms.mode=e}get formMode(){return x.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return m(this,Xe)}set pageRefreshDebouncePeriod(e){this.refresh=hi(this.debouncedRefresh.bind(this),e),S(this,Xe,e)}shouldPreloadLink(e){let t=e.hasAttribute("data-turbo-method"),i=e.hasAttribute("data-turbo-stream"),r=e.getAttribute("data-turbo-frame"),a=r=="_top"?null:document.getElementById(r)||me(e,"turbo-frame:not([disabled])");if(t||i||a instanceof W)return!1;{let p=new URL(e.href);return this.elementIsNavigatable(e)&&q(p,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,i){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}historyPoppedWithEmptyState(e){this.history.replace(e),this.view.lastRenderedLocation=e,this.view.cacheSnapshot()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,i){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,i)}followedLinkToLocation(e,t){let i=this.getActionForLink(e),r=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:i,acceptsStreamResponse:r})}allowsVisitingLocationWithAction(e,t){return this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){ls(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||($e(document.documentElement),this.view.markVisitDirection(e.direction)),ls(e.location),this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),et(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}willSubmitForm(e,t){let i=Kt(e,t);return this.submissionIsNavigatable(e,t)&&q(T(i),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let i=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:r,detail:{render:a}}=i;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!r}viewRenderedSnapshot(e,t,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,i){return A("turbo:click",{target:e,detail:{url:t.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return A("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return A("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return A("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return A("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return A("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return A("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterFrameLoad(e){return A("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return A("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(x.forms.mode=="off")return!1;{let i=t?this.elementIsNavigatable(t):!0;return x.forms.mode=="optin"?i&&e.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=me(e,"[data-turbo]"),i=me(e,"turbo-frame");return x.drive.enabled||i?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return oe(e)||"advance"}get snapshot(){return this.view.snapshot}};Xe=new WeakMap;function ls(s){Object.defineProperties(s,rr)}var rr={absoluteURL:{get(){return this.toString()}}},G=new Dt(Fs),{cache:nr,navigator:or}=G;function ks(){G.start()}function ar(s){G.registerAdapter(s)}function ft(s,e){G.visit(s,e)}function Ms(s){G.connectStreamSource(s)}function Ns(s){G.disconnectStreamSource(s)}function lr(s){G.renderStreamMessage(s)}function cr(s){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.drive.progressBarDelay=s}function hr(s){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.forms.confirm=s}function dr(s){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.forms.mode=s}function ur(s,e){ht.renderElement(s,e)}function mr(s,e){ct.renderElement(s,e)}var gr=Object.freeze({__proto__:null,PageRenderer:Ge,PageSnapshot:Z,FrameRenderer:Ee,fetch:Is,config:x,session:G,cache:nr,navigator:or,start:ks,registerAdapter:ar,visit:ft,connectStreamSource:Ms,disconnectStreamSource:Ns,renderStreamMessage:lr,setProgressBarDelay:cr,setConfirmMethod:hr,setFormMode:dr,morphBodyElements:ur,morphTurboFrameElements:mr,morphChildren:es,morphElements:gt}),Ht=class extends Error{},Y,V,$,je,ve,Be,v,he,Zs,Vs,Ds,Hs,Xs,js,Ys,jt,se,zs,Ke,Ps,qs,Js,Yt,Xt=class{constructor(e){C(this,v);c(this,"fetchResponseLoaded",e=>Promise.resolve());C(this,Y,null);C(this,V,()=>{});C(this,$,!1);C(this,je,!1);C(this,ve,new Set);C(this,Be,!1);c(this,"action",null);c(this,"visitCachedSnapshot",({element:e})=>{let t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new Ft(this,this.element),this.appearanceObserver=new Bt(this,this.element),this.formLinkClickObserver=new at(this,this.element),this.linkInterceptor=new nt(this,this.element),this.restorationIdentifier=ee(),this.formSubmitObserver=new Re(this,this.element)}connect(){m(this,$)||(S(this,$,!0),this.loadingStyle==de.lazy?this.appearanceObserver.start():f(this,v,he).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){m(this,$)&&(S(this,$,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop(),this.element.hasAttribute("recurse")||m(this,Y)?.cancel())}disabledChanged(){this.disabled?m(this,Y)?.cancel():this.loadingStyle==de.eager&&f(this,v,he).call(this)}sourceURLChanged(){f(this,v,Ps).call(this,"src")||(this.sourceURL||m(this,Y)?.cancel(),this.element.isConnected&&(this.complete=!1),(this.loadingStyle==de.eager||m(this,je))&&f(this,v,he).call(this))}sourceURLReloaded(){let{refresh:e,src:t}=this.element;return S(this,Be,t&&e==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==de.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),f(this,v,he).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let i=us(t);Z.fromDocument(i).isVisitable?await f(this,v,Zs).call(this,e,i):await f(this,v,Hs).call(this,e)}}finally{S(this,Be,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,oe(e)),f(this,v,he).call(this)}willSubmitFormLinkToLocation(e){return f(this,v,Ke).call(this,e)}submittedFormLinkToLocation(e,t,i){let r=f(this,v,se).call(this,e);r&&i.setAttribute("data-turbo-frame",r.id)}shouldInterceptLinkClick(e,t,i){return f(this,v,Ke).call(this,e)}linkClickIntercepted(e,t){f(this,v,Ds).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&f(this,v,Ke).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new it(this,e,t);let{fetchRequest:i}=this.formSubmission,r=f(this,v,se).call(this,e,t);this.prepareRequest(i,r),this.formSubmission.start()}prepareRequest(e,t=this){e.headers["Turbo-Frame"]=t.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(z.contentType)}requestStarted(e){$e(this.element)}requestPreventedHandlingResponse(e,t){m(this,V).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),m(this,V).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),m(this,V).call(this)}requestErrored(e,t){console.error(t),m(this,V).call(this)}requestFinished(e){et(this.element)}formSubmissionStarted({formElement:e}){$e(e,f(this,v,se).call(this,e))}formSubmissionSucceededWithResponse(e,t){let i=f(this,v,se).call(this,e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,oe(e.submitter,e.formElement,i)),i.delegate.loadResponse(t),e.isSafe||G.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),G.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){et(e,f(this,v,se).call(this,e))}allowsImmediateRender({element:e},t){let i=A("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:r,detail:{render:a}}=i;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!r}viewRenderedSnapshot(e,t,i){}preloadOnLoadLinksForView(e){G.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){let i=Z.fromElement(e).clone(),{visitCachedSnapshot:r}=e.delegate;e.delegate.fetchResponseLoaded=async a=>{if(e.src){let{statusCode:p,redirected:w}=a,E=await a.responseHTML,M={response:{statusCode:p,redirected:w,responseHTML:E},visitCachedSnapshot:r,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(M.action=this.action),G.visit(e.src,M)}}}}changeHistory(){if(this.action){let e=gs(this.action);G.history.update(e,T(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t,i=CSS.escape(this.id);try{if(t=cs(e.querySelector(`turbo-frame#${i}`),this.sourceURL),t)return t;if(t=cs(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(r){return console.error(r),new W}return null}get id(){return this.element.id}get disabled(){return this.element.disabled}get enabled(){return!this.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){f(this,v,qs).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||m(this,V).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&m(this,$)}get rootLocation(){let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return T(t)}};Y=new WeakMap,V=new WeakMap,$=new WeakMap,je=new WeakMap,ve=new WeakMap,Be=new WeakMap,v=new WeakSet,he=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=f(this,v,Vs).call(this,T(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,S(this,je,!0))},Zs=async function(e,t){let i=await this.extractForeignFrameElement(t.body),r=m(this,Be)?ct:Ee;if(i){let a=new Qe(i),p=new r(this,this.view.snapshot,a,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(p),this.complete=!0,G.frameRendered(e,this.element),G.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else f(this,v,Xs).call(this,e)&&f(this,v,js).call(this,e)},Vs=async function(e){let t=new ae(this,O.get,e,new URLSearchParams,this.element);return m(this,Y)?.cancel(),S(this,Y,t),new Promise(i=>{S(this,V,()=>{S(this,V,()=>{}),S(this,Y,null),i()}),t.perform()})},Ds=function(e,t,i){let r=f(this,v,se).call(this,e,i);r.delegate.proposeVisitIfNavigatedWithAction(r,oe(i,e,r)),f(this,v,Js).call(this,e,()=>{r.src=t})},Hs=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await f(this,v,jt).call(this,e.response)},Xs=function(e){this.element.setAttribute("complete","");let t=e.response,i=async(a,p)=>{a instanceof Response?f(this,v,jt).call(this,a):G.visit(a,p)};return!A("turbo:frame-missing",{target:this.element,detail:{response:t,visit:i},cancelable:!0}).defaultPrevented},js=function(e){this.view.missing(),f(this,v,Ys).call(this,e)},Ys=function(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Ht(t)},jt=async function(e){let t=new Le(e),i=await t.responseHTML,{location:r,redirected:a,statusCode:p}=t;return G.visit(r,{response:{redirected:a,statusCode:p,responseHTML:i}})},se=function(e,t){let i=_e("data-turbo-frame",t,e)||this.element.getAttribute("target"),r=f(this,v,Yt).call(this,i);return r instanceof W?r:this.element},zs=function(e,t){let i=Kt(e,t);return q(T(i),this.rootLocation)},Ke=function(e,t){let i=_e("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!f(this,v,zs).call(this,e,t)||!this.enabled||i=="_top")return!1;if(i){let r=f(this,v,Yt).call(this,i);if(r)return!r.disabled;if(i=="_parent")return!1}return!(!G.elementIsNavigatable(e)||t&&!G.elementIsNavigatable(t))},Ps=function(e){return m(this,ve).has(e)},qs=function(e,t){m(this,ve).add(e),t(),m(this,ve).delete(e)},Js=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement},Yt=function(e){if(e!=null){let t=e==="_parent"?this.element.parentElement.closest("turbo-frame"):document.getElementById(e);if(t instanceof W)return t}};function cs(s,e){if(s){let t=s.getAttribute("src");if(t!=null&&e!=null&&Qs(t,e))throw new Error(`Matching <turbo-frame id="${s.id}"> element has a source URL which references itself`);if(s.ownerDocument!==document&&(s=document.importNode(s,!0)),s instanceof W)return s.connectedCallback(),s.disconnectedCallback(),s}}var Ks={after(){this.removeDuplicateTargetSiblings(),this.targetElements.forEach(s=>s.parentElement?.insertBefore(this.templateContent,s.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.append(this.templateContent))},before(){this.removeDuplicateTargetSiblings(),this.targetElements.forEach(s=>s.parentElement?.insertBefore(this.templateContent,s))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.prepend(this.templateContent))},remove(){this.targetElements.forEach(s=>s.remove())},replace(){let s=this.getAttribute("method");this.targetElements.forEach(e=>{s==="morph"?gt(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let s=this.getAttribute("method");this.targetElements.forEach(e=>{s==="morph"?es(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){let s=this.getAttribute("method"),e=this.requestId,t=this.getAttribute("scroll");G.refresh(this.baseURI,{method:s,requestId:e,scroll:t})}},ne,ye,ts=class ts extends HTMLElement{constructor(){super(...arguments);C(this,ne)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await Ue(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){let t=this.targetElements.flatMap(r=>[...r.children]).filter(r=>!!r.getAttribute("id")),i=[...this.templateContent?.children||[]].filter(r=>!!r.getAttribute("id")).map(r=>r.getAttribute("id"));return t.filter(r=>i.includes(r.getAttribute("id")))}removeDuplicateTargetSiblings(){this.duplicateSiblings.forEach(t=>t.remove())}get duplicateSiblings(){let t=this.targetElements.flatMap(r=>[...r.parentElement.children]).filter(r=>!!r.id),i=[...this.templateContent?.children||[]].filter(r=>!!r.id).map(r=>r.id);return t.filter(r=>i.includes(r.id))}get performAction(){if(this.action){let t=Ks[this.action];if(t)return t;f(this,ne,ye).call(this,"unknown action")}f(this,ne,ye).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;f(this,ne,ye).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;f(this,ne,ye).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:ts.renderElement}})}get targetElementsById(){let t=this.ownerDocument?.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){let t=this.ownerDocument?.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};ne=new WeakSet,ye=function(t){throw new Error(`${this.description}: ${t}`)};var zt=ts,Pt=class extends HTMLElement{constructor(){super(...arguments);c(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Ms(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Ns(this.streamSource))}get src(){return this.getAttribute("src")||""}};W.delegateConstructor=Xt;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",W);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",zt);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Pt);(()=>{let s=document.currentScript;if(!s||s.hasAttribute("data-turbo-suppress-warning"))return;let e=s.parentElement;for(;e;){if(e==document.body)return console.warn(ms`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,s.outerHTML);e=e.parentElement}})();window.Turbo={...gr,StreamActions:Ks};ks();function pr(s){let e=document.activeElement;if(!(e&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable))){if(s.key==="ArrowRight"){let t=document.getElementById("btn-next");t&&(s.preventDefault(),ft(t.href))}if(s.key==="ArrowLeft"){let t=document.getElementById("btn-previous");t&&(s.preventDefault(),ft(t.href))}}}document.addEventListener("keydown",pr);})();
/*! Bundled license information:

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.23
  Copyright  2026 37signals LLC
   *)
*/
//# sourceMappingURL=/_bridgetown/static/index.MGEJV2MU.js.map

(()=>{var Ki=Object.defineProperty;var ti=i=>{throw TypeError(i)};var _i=(i,e,t)=>e in i?Ki(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var l=(i,e,t)=>_i(i,typeof e!="symbol"?e+"":e,t),gt=(i,e,t)=>e.has(i)||ti("Cannot "+t);var m=(i,e,t)=>(gt(i,e,"read from private field"),t?t.call(i):e.get(i)),y=(i,e,t)=>e.has(i)?ti("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),U=(i,e,t,s)=>(gt(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),p=(i,e,t)=>(gt(i,e,"access private method"),t);(function(i){if(typeof i.requestSubmit=="function")return;i.requestSubmit=function(s){s?(e(s,this),s.click()):(s=document.createElement("input"),s.type="submit",s.hidden=!0,this.appendChild(s),s.click(),this.removeChild(s))};function e(s,r){s instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),s.type=="submit"||t(TypeError,"The specified element is not a submit button"),s.form==r||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(s,r,a){throw new s("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",a)}})(HTMLFormElement.prototype);var ci=new WeakMap;function $i(i){let e=i instanceof Element?i:i instanceof Node?i.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function es(i){let e=$i(i.target);e&&e.form&&ci.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let i=window.Event.prototype;if("SubmitEvent"in window){let e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))i=e;else return}addEventListener("click",es,!0),Object.defineProperty(i,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return ci.get(this.target)}})})();var de={eager:"eager",lazy:"lazy"},ct=class ct extends HTMLElement{constructor(){super();l(this,"loaded",Promise.resolve());this.delegate=new ct.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return ts(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};l(ct,"delegateConstructor");var Z=ct;function ts(i){switch(i.toLowerCase()){case"lazy":return de.lazy;default:return de.eager}}var is={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Ue(i){if(i.getAttribute("data-turbo-eval")=="false")return i;{let e=document.createElement("script"),t=fi();return t&&(e.nonce=t),e.textContent=i.textContent,e.async=!1,ss(e,i),e}}function ss(i,e){for(let{name:t,value:s}of e.attributes)i.setAttribute(t,s)}function rs(i){let e=document.createElement("template");return e.innerHTML=i,e.content}function E(i,{target:e,cancelable:t,detail:s}={}){let r=new CustomEvent(i,{cancelable:t,bubbles:!0,composed:!0,detail:s});return e&&e.isConnected?e.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function ii(i){i.preventDefault(),i.stopImmediatePropagation()}function we(){return document.visibilityState==="hidden"?di():hi()}function hi(){return new Promise(i=>requestAnimationFrame(()=>i()))}function di(){return new Promise(i=>setTimeout(()=>i(),0))}function ns(){return Promise.resolve()}function ui(i=""){return new DOMParser().parseFromString(i,"text/html")}function mi(i,...e){let t=os(i,e).replace(/^\n/,"").split(`
`),s=t[0].match(/^\s+/),r=s?s[0].length:0;return t.map(a=>a.slice(r)).join(`
`)}function os(i,e){return i.reduce((t,s,r)=>{let a=e[r]==null?"":e[r];return t+s+a},"")}function $(){return Array.from({length:36}).map((i,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Ke(i,...e){for(let t of e.map(s=>s?.getAttribute(i)))if(typeof t=="string")return t;return null}function as(i,...e){return e.some(t=>t&&t.hasAttribute(i))}function _e(...i){for(let e of i)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function $e(...i){for(let e of i)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function ls(i,e=2e3){return new Promise(t=>{let s=()=>{i.removeEventListener("error",s),i.removeEventListener("load",s),t()};i.addEventListener("load",s,{once:!0}),i.addEventListener("error",s,{once:!0}),setTimeout(t,e)})}function gi(i){switch(i){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function cs(i){return i=="advance"||i=="replace"||i=="restore"}function re(...i){let e=Ke("data-turbo-action",...i);return cs(e)?e:null}function Yt(i){return document.querySelector(`meta[name="${i}"]`)}function et(i){let e=Yt(i);return e&&e.content}function fi(){let i=Yt("csp-nonce");if(i){let{nonce:e,content:t}=i;return e==""?t:e}}function hs(i,e){let t=Yt(i);return t||(t=document.createElement("meta"),t.setAttribute("name",i),document.head.appendChild(t)),t.setAttribute("content",e),t}function me(i,e){if(i instanceof Element)return i.closest(e)||me(i.assignedSlot||i.getRootNode()?.host,e)}function zt(i){return!!i&&i.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof i.focus=="function"}function pi(i){return Array.from(i.querySelectorAll("[autofocus]")).find(zt)}async function ds(i,e){let t=e();i(),await hi();let s=e();return[t,s]}function bi(i){if(i==="_blank")return!1;if(i){for(let e of document.getElementsByName(i))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function vi(i){let e=me(i,"a[href], a[xlink\\:href]");return!e||e.hasAttribute("download")||e.hasAttribute("target")&&e.target!=="_self"?null:e}function Bi(i){return x(i.getAttribute("href")||"")}function us(i,e){let t=null;return(...s)=>{let r=()=>i.apply(this,s);clearTimeout(t),t=setTimeout(r,e)}}var ms={"aria-disabled":{beforeSubmit:i=>{i.setAttribute("aria-disabled","true"),i.addEventListener("click",ii)},afterSubmit:i=>{i.removeAttribute("aria-disabled"),i.removeEventListener("click",ii)}},disabled:{beforeSubmit:i=>i.disabled=!0,afterSubmit:i=>i.disabled=!1}},Ge,ft=class{constructor(e){y(this,Ge,null);Object.assign(this,e)}get submitter(){return m(this,Ge)}set submitter(e){U(this,Ge,ms[e]||e)}};Ge=new WeakMap;var gs=new ft({mode:"on",submitter:"disabled"}),T={drive:is,forms:gs};function x(i){return new URL(i.toString(),document.baseURI)}function ne(i){let e;if(i.hash)return i.hash.slice(1);if(e=i.href.match(/#(.*)$/))return e[1]}function qt(i,e){let t=e?.getAttribute("formaction")||i.getAttribute("action")||i.action;return x(t)}function fs(i){return(vs(i).match(/\.[^.]*$/)||[])[0]||""}function ps(i,e){let t=si(e.origin+e.pathname);return si(i.href)===t||i.href.startsWith(t)}function q(i,e){return ps(i,e)&&!T.drive.unvisitableExtensions.has(fs(i))}function pt(i){let e=ne(i);return e!=null?i.href.slice(0,-(e.length+1)):i.href}function je(i){return pt(i)}function Qi(i,e){return x(i).href==x(e).href}function bs(i){return i.pathname.split("/").slice(1)}function vs(i){return bs(i).slice(-1)[0]}function si(i){return i.endsWith("/")?i:i+"/"}var Se=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return x(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},bt=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let s=this.values().next().value;this.delete(s)}super.add(e)}},Fi=new bt(20);function Ii(i,e={}){let t=new Headers(e.headers||{}),s=$();return Fi.add(s),t.append("X-Turbo-Request-Id",s),window.fetch(i,{...e,headers:t})}function Jt(i){switch(i.toLowerCase()){case"get":return O.get;case"post":return O.post;case"put":return O.put;case"patch":return O.patch;case"delete":return O.delete}}var O={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function Bs(i){switch(i.toLowerCase()){case te.multipart:return te.multipart;case te.plain:return te.plain;default:return te.urlEncoded}}var te={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},Te,Fe,yi,Ci,oe=class{constructor(e,t,s,r=new URLSearchParams,a=null,b=te.urlEncoded){y(this,Fe);l(this,"abortController",new AbortController);y(this,Te,e=>{});let[S,G]=ri(x(s),t,r,b);this.delegate=e,this.url=S,this.target=a,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:G,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=b}get method(){return this.fetchOptions.method}set method(e){let t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,s=Jt(e)||O.get;this.url.search="";let[r,a]=ri(this.url,s,t,this.enctype);this.url=r,this.fetchOptions.body=a,this.fetchOptions.method=s.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let t=await p(this,Fe,yi).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=Ii(this.url.href,e);let s=await this.response;return await this.receive(s)}catch(s){if(s.name!=="AbortError")throw p(this,Fe,Ci).call(this,s)&&this.delegate.requestErrored(this,s),s}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new Se(e);return E("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return Kt(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}};Te=new WeakMap,Fe=new WeakSet,yi=async function(e){let t=new Promise(r=>U(this,Te,r)),s=E("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:m(this,Te)},target:this.target});return this.url=s.detail.url,s.defaultPrevented&&await t,s},Ci=function(e){return!E("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function Kt(i){return Jt(i)==O.get}function ri(i,e,t,s){let r=Array.from(t).length>0?new URLSearchParams(wi(t)):i.searchParams;return Kt(e)?[Qs(i,r),null]:s==te.urlEncoded?[i,r]:[i,t]}function wi(i){let e=[];for(let[t,s]of i)s instanceof File||e.push([t,s]);return e}function Qs(i,e){let t=new URLSearchParams(wi(e));return i.search=t.toString(),i}var vt=class{constructor(e,t){l(this,"started",!1);l(this,"intersect",e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},Y=class{static wrap(e){return typeof e=="string"?new this(rs(e)):e}constructor(e){this.fragment=Fs(e)}};l(Y,"contentType","text/vnd.turbo-stream.html");function Fs(i){for(let e of i.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let s of t.templateElement.content.querySelectorAll("script"))s.replaceWith(Ue(s));e.replaceWith(t)}return i}var Is=100,ie,j,Bt=class{constructor(){y(this,ie,null);y(this,j,null)}get(e){if(m(this,j)&&m(this,j).url===e&&m(this,j).expire>Date.now())return m(this,j).request}setLater(e,t,s){this.clear(),U(this,ie,setTimeout(()=>{t.perform(),this.set(e,t,s),U(this,ie,null)},Is))}set(e,t,s){U(this,j,{url:e,request:t,expire:new Date(new Date().getTime()+s)})}clear(){m(this,ie)&&clearTimeout(m(this,ie)),U(this,j,null)}};ie=new WeakMap,j=new WeakMap;var ys=10*1e3,ue=new Bt,le={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},tt=class i{constructor(e,t,s,r=!1){l(this,"state",le.initialized);let a=Rs(t,s),b=Ls(Ss(t,s),a),S=Cs(t,s),G=Es(t,s);this.delegate=e,this.formElement=t,this.submitter=s,this.fetchRequest=new oe(this,a,b,S,t,G),this.mustRedirect=r}static confirmMethod(e){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=x(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:t}=le,s=Ke("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof s=="string"&&!await(typeof T.forms.confirm=="function"?T.forms.confirm:i.confirmMethod)(s,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=le;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=ws(et("csrf-param"))||et("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Y.contentType)}requestStarted(e){this.state=le.waiting,this.submitter&&T.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),_e(this.formElement),E("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){ue.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(ue.clear(),this.requestMustRedirect(e)&&Us(t)){let s=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,s)}else this.state=le.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=le.stopped,this.submitter&&T.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),$e(this.formElement),E("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||as("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function Cs(i,e){let t=new FormData(i),s=e?.getAttribute("name"),r=e?.getAttribute("value");return s&&t.append(s,r||""),t}function ws(i){if(i!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(s=>s.startsWith(i));if(t){let s=t.split("=").slice(1).join("=");return s?decodeURIComponent(s):void 0}}}function Us(i){return i.statusCode==200&&!i.redirected}function Ss(i,e){let t=typeof i.action=="string"?i.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":i.getAttribute("action")||t||""}function Ls(i,e){let t=x(i);return Kt(e)&&(t.search=""),t}function Rs(i,e){let t=e?.getAttribute("formmethod")||i.getAttribute("method")||"";return Jt(t.toLowerCase())||O.get}function Es(i,e){return Bs(e?.getAttribute("formenctype")||i.enctype)}var Qe=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return pi(this.element)}get permanentElements(){return Si(this.element)}getPermanentElementById(e){return Ui(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let s of this.permanentElements){let{id:r}=s,a=e.getPermanentElementById(r);a&&(t[r]=[s,a])}return t}};function Ui(i,e){return i.querySelector(`#${e}[data-turbo-permanent]`)}function Si(i){return i.querySelectorAll("[id][data-turbo-permanent]")}var Le=class{constructor(e,t){l(this,"started",!1);l(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});l(this,"submitBubbled",e=>{if(!e.defaultPrevented){let t=e.target instanceof HTMLFormElement?e.target:void 0,s=e.submitter||void 0;t&&As(t,s)&&Gs(t,s)&&this.delegate.willSubmitForm(t,s)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,s))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function As(i,e){return(e?.getAttribute("formmethod")||i.getAttribute("method"))!="dialog"}function Gs(i,e){let t=e?.getAttribute("formtarget")||i.getAttribute("target");return bi(t)}var xe,Oe,it=class{constructor(e,t){y(this,xe,e=>{});y(this,Oe,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(ne(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:s,willRender:r,newSnapshot:a}=e,b=r;if(s)try{this.renderPromise=new Promise(k=>U(this,xe,k)),this.renderer=e,await this.prepareToRenderSnapshot(e);let S=new Promise(k=>U(this,Oe,k)),G={resume:m(this,Oe),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(a,G)||await S,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(a,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,m(this,xe).call(this,void 0),delete this.renderPromise}else b&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}};xe=new WeakMap,Oe=new WeakMap;var Qt=class extends it{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Qe(this.element)}},st=class{constructor(e,t){l(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});l(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});l(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){let t=e.composed?e.target?.parentElement:e.target,s=vi(t)||t;return s instanceof Element&&s.closest("turbo-frame, html")==this.element}},rt=class{constructor(e,t){l(this,"started",!1);l(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});l(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let t=e.composedPath&&e.composedPath()[0]||e.target,s=vi(t);if(s&&bi(s.target)){let r=Bi(s);this.delegate.willFollowLinkToLocation(s,r,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(s,r))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},nt=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new rt(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,s){return this.delegate.willSubmitFormLinkToLocation(e,t,s)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){let s=document.createElement("form"),r="hidden";for(let[ae,B]of t.searchParams)s.append(Object.assign(document.createElement("input"),{type:r,name:ae,value:B}));let a=Object.assign(t,{search:""});s.setAttribute("data-turbo","true"),s.setAttribute("action",a.href),s.setAttribute("hidden","");let b=e.getAttribute("data-turbo-method");b&&s.setAttribute("method",b);let S=e.getAttribute("data-turbo-frame");S&&s.setAttribute("data-turbo-frame",S);let G=re(e);G&&s.setAttribute("data-turbo-action",G);let z=e.getAttribute("data-turbo-confirm");z&&s.setAttribute("data-turbo-confirm",z),e.hasAttribute("data-turbo-stream")&&s.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,s),document.body.appendChild(s),s.addEventListener("turbo:submit-end",()=>s.remove(),{once:!0}),requestAnimationFrame(()=>s.requestSubmit())}},ot=class{static async preservingPermanentElements(e,t,s){let r=new this(e,t);r.enter(),await s(),r.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,s]=this.permanentElementMap[e];this.delegate.enteringBardo(t,s),this.replaceNewPermanentElementWithPlaceholder(s)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=Ts(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function Ts(i){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",i.id),e}var P,Re=class{constructor(e,t,s,r=!0){y(this,P,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=s,this.willRender=r,this.renderElement=this.constructor.renderElement,this.promise=new Promise((a,b)=>this.resolvingFunctions={resolve:a,reject:b})}static renderElement(e,t){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await ot.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){m(this,P)||e.contains(this.currentSnapshot.activeElement)&&U(this,P,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(m(this,P))&&m(this,P)instanceof HTMLElement&&(m(this,P).focus(),U(this,P,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}};P=new WeakMap;var Ee=class extends Re{static renderElement(e,t){let s=document.createRange();s.selectNodeContents(e),s.deleteContents();let r=t,a=r.ownerDocument?.createRange();a&&(a.selectNodeContents(r),e.appendChild(a.extractContents()))}constructor(e,t,s,r,a,b=!0){super(t,s,r,a,b),this.delegate=e}get shouldRender(){return!0}async render(){await we(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await we(),this.focusFirstAutofocusableElement(),await we(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=xs(this.currentElement.getAttribute("data-autoscroll-block"),"end"),s=Os(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:s}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=Ue(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function xs(i,e){return i=="end"||i=="start"||i=="center"||i=="nearest"?i:e}function Os(i,e){return i=="auto"||i=="smooth"?i:e}var Ws=(function(){let i=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:i,afterNodeAdded:i,beforeNodeMorphed:i,afterNodeMorphed:i,beforeNodeRemoved:i,afterNodeRemoved:i,beforeAttributeUpdated:i},head:{style:"merge",shouldPreserve:B=>B.getAttribute("im-preserve")==="true",shouldReAppend:B=>B.getAttribute("im-re-append")==="true",shouldRemove:i,afterHeadMorphed:i},restoreFocus:!0};function t(B,R,I={}){B=k(B);let w=ae(R),C=z(B,w,I),Q=r(C,()=>S(C,B,w,c=>c.morphStyle==="innerHTML"?(a(c,B,w),Array.from(B.childNodes)):s(c,B,w)));return C.pantry.remove(),Q}function s(B,R,I){let w=ae(R);return a(B,w,I,R,R.nextSibling),Array.from(w.childNodes)}function r(B,R){if(!B.config.restoreFocus)return R();let I=document.activeElement;if(!(I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement))return R();let{id:w,selectionStart:C,selectionEnd:Q}=I,c=R();return w&&w!==document.activeElement?.getAttribute("id")&&(I=B.target.querySelector(`[id="${w}"]`),I?.focus()),I&&!I.selectionEnd&&Q&&I.setSelectionRange(C,Q),c}let a=(function(){function B(n,o,d,h=null,g=null){o instanceof HTMLTemplateElement&&d instanceof HTMLTemplateElement&&(o=o.content,d=d.content),h||(h=o.firstChild);for(let f of d.childNodes){if(h&&h!=g){let L=I(n,f,h,g);if(L){L!==h&&C(n,h,L),b(L,f,n),h=L.nextSibling;continue}}if(f instanceof Element){let L=f.getAttribute("id");if(n.persistentIds.has(L)){let D=Q(o,L,h,n);b(D,f,n),h=D.nextSibling;continue}}let F=R(o,f,h,n);F&&(h=F.nextSibling)}for(;h&&h!=g;){let f=h;h=h.nextSibling,w(n,f)}}function R(n,o,d,h){if(h.callbacks.beforeNodeAdded(o)===!1)return null;if(h.idMap.has(o)){let g=document.createElement(o.tagName);return n.insertBefore(g,d),b(g,o,h),h.callbacks.afterNodeAdded(g),g}else{let g=document.importNode(o,!0);return n.insertBefore(g,d),h.callbacks.afterNodeAdded(g),g}}let I=(function(){function n(h,g,f,F){let L=null,D=g.nextSibling,ei=0,M=f;for(;M&&M!=F;){if(d(M,g)){if(o(h,M,g))return M;L===null&&(h.idMap.has(M)||(L=M))}if(L===null&&D&&d(M,D)&&(ei++,D=D.nextSibling,ei>=2&&(L=void 0)),h.activeElementAndParents.includes(M))break;M=M.nextSibling}return L||null}function o(h,g,f){let F=h.idMap.get(g),L=h.idMap.get(f);if(!L||!F)return!1;for(let D of F)if(L.has(D))return!0;return!1}function d(h,g){let f=h,F=g;return f.nodeType===F.nodeType&&f.tagName===F.tagName&&(!f.getAttribute?.("id")||f.getAttribute?.("id")===F.getAttribute?.("id"))}return n})();function w(n,o){if(n.idMap.has(o))u(n.pantry,o,null);else{if(n.callbacks.beforeNodeRemoved(o)===!1)return;o.parentNode?.removeChild(o),n.callbacks.afterNodeRemoved(o)}}function C(n,o,d){let h=o;for(;h&&h!==d;){let g=h;h=h.nextSibling,w(n,g)}return h}function Q(n,o,d,h){let g=h.target.getAttribute?.("id")===o&&h.target||h.target.querySelector(`[id="${o}"]`)||h.pantry.querySelector(`[id="${o}"]`);return c(g,h),u(n,g,d),g}function c(n,o){let d=n.getAttribute("id");for(;n=n.parentNode;){let h=o.idMap.get(n);h&&(h.delete(d),h.size||o.idMap.delete(n))}}function u(n,o,d){if(n.moveBefore)try{n.moveBefore(o,d)}catch{n.insertBefore(o,d)}else n.insertBefore(o,d)}return B})(),b=(function(){function B(c,u,n){return n.ignoreActive&&c===document.activeElement?null:(n.callbacks.beforeNodeMorphed(c,u)===!1||(c instanceof HTMLHeadElement&&n.head.ignore||(c instanceof HTMLHeadElement&&n.head.style!=="morph"?G(c,u,n):(R(c,u,n),Q(c,n)||a(n,c,u))),n.callbacks.afterNodeMorphed(c,u)),c)}function R(c,u,n){let o=u.nodeType;if(o===1){let d=c,h=u,g=d.attributes,f=h.attributes;for(let F of f)C(F.name,d,"update",n)||d.getAttribute(F.name)!==F.value&&d.setAttribute(F.name,F.value);for(let F=g.length-1;0<=F;F--){let L=g[F];if(L&&!h.hasAttribute(L.name)){if(C(L.name,d,"remove",n))continue;d.removeAttribute(L.name)}}Q(d,n)||I(d,h,n)}(o===8||o===3)&&c.nodeValue!==u.nodeValue&&(c.nodeValue=u.nodeValue)}function I(c,u,n){if(c instanceof HTMLInputElement&&u instanceof HTMLInputElement&&u.type!=="file"){let o=u.value,d=c.value;w(c,u,"checked",n),w(c,u,"disabled",n),u.hasAttribute("value")?d!==o&&(C("value",c,"update",n)||(c.setAttribute("value",o),c.value=o)):C("value",c,"remove",n)||(c.value="",c.removeAttribute("value"))}else if(c instanceof HTMLOptionElement&&u instanceof HTMLOptionElement)w(c,u,"selected",n);else if(c instanceof HTMLTextAreaElement&&u instanceof HTMLTextAreaElement){let o=u.value,d=c.value;if(C("value",c,"update",n))return;o!==d&&(c.value=o),c.firstChild&&c.firstChild.nodeValue!==o&&(c.firstChild.nodeValue=o)}}function w(c,u,n,o){let d=u[n],h=c[n];if(d!==h){let g=C(n,c,"update",o);g||(c[n]=u[n]),d?g||c.setAttribute(n,""):C(n,c,"remove",o)||c.removeAttribute(n)}}function C(c,u,n,o){return c==="value"&&o.ignoreActiveValue&&u===document.activeElement?!0:o.callbacks.beforeAttributeUpdated(c,u,n)===!1}function Q(c,u){return!!u.ignoreActiveValue&&c===document.activeElement&&c!==document.body}return B})();function S(B,R,I,w){if(B.head.block){let C=R.querySelector("head"),Q=I.querySelector("head");if(C&&Q){let c=G(C,Q,B);return Promise.all(c).then(()=>{let u=Object.assign(B,{head:{block:!1,ignore:!0}});return w(u)})}}return w(B)}function G(B,R,I){let w=[],C=[],Q=[],c=[],u=new Map;for(let o of R.children)u.set(o.outerHTML,o);for(let o of B.children){let d=u.has(o.outerHTML),h=I.head.shouldReAppend(o),g=I.head.shouldPreserve(o);d||g?h?C.push(o):(u.delete(o.outerHTML),Q.push(o)):I.head.style==="append"?h&&(C.push(o),c.push(o)):I.head.shouldRemove(o)!==!1&&C.push(o)}c.push(...u.values());let n=[];for(let o of c){let d=document.createRange().createContextualFragment(o.outerHTML).firstChild;if(I.callbacks.beforeNodeAdded(d)!==!1){if("href"in d&&d.href||"src"in d&&d.src){let h,g=new Promise(function(f){h=f});d.addEventListener("load",function(){h()}),n.push(g)}B.appendChild(d),I.callbacks.afterNodeAdded(d),w.push(d)}}for(let o of C)I.callbacks.beforeNodeRemoved(o)!==!1&&(B.removeChild(o),I.callbacks.afterNodeRemoved(o));return I.head.afterHeadMorphed(B,{added:w,kept:Q,removed:C}),n}let z=(function(){function B(n,o,d){let{persistentIds:h,idMap:g}=c(n,o),f=R(d),F=f.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(F))throw`Do not understand how to morph style ${F}`;return{target:n,newContent:o,config:f,morphStyle:F,ignoreActive:f.ignoreActive,ignoreActiveValue:f.ignoreActiveValue,restoreFocus:f.restoreFocus,idMap:g,persistentIds:h,pantry:I(),activeElementAndParents:w(n),callbacks:f.callbacks,head:f.head}}function R(n){let o=Object.assign({},e);return Object.assign(o,n),o.callbacks=Object.assign({},e.callbacks,n.callbacks),o.head=Object.assign({},e.head,n.head),o}function I(){let n=document.createElement("div");return n.hidden=!0,document.body.insertAdjacentElement("afterend",n),n}function w(n){let o=[],d=document.activeElement;if(d?.tagName!=="BODY"&&n.contains(d))for(;d&&(o.push(d),d!==n);)d=d.parentElement;return o}function C(n){let o=Array.from(n.querySelectorAll("[id]"));return n.getAttribute?.("id")&&o.push(n),o}function Q(n,o,d,h){for(let g of h){let f=g.getAttribute("id");if(o.has(f)){let F=g;for(;F;){let L=n.get(F);if(L==null&&(L=new Set,n.set(F,L)),L.add(f),F===d)break;F=F.parentElement}}}}function c(n,o){let d=C(n),h=C(o),g=u(d,h),f=new Map;Q(f,g,n,d);let F=o.__idiomorphRoot||o;return Q(f,g,F,h),{persistentIds:g,idMap:f}}function u(n,o){let d=new Set,h=new Map;for(let{id:f,tagName:F}of n)h.has(f)?d.add(f):h.set(f,F);let g=new Set;for(let{id:f,tagName:F}of o)g.has(f)?d.add(f):h.get(f)===F&&g.add(f);for(let f of d)g.delete(f);return g}return B})(),{normalizeElement:k,normalizeParent:ae}=(function(){let B=new WeakSet;function R(Q){return Q instanceof Document?Q.documentElement:Q}function I(Q){if(Q==null)return document.createElement("div");if(typeof Q=="string")return I(C(Q));if(B.has(Q))return Q;if(Q instanceof Node){if(Q.parentNode)return new w(Q);{let c=document.createElement("div");return c.append(Q),c}}else{let c=document.createElement("div");for(let u of[...Q])c.append(u);return c}}class w{constructor(c){this.originalNode=c,this.realParentNode=c.parentNode,this.previousSibling=c.previousSibling,this.nextSibling=c.nextSibling}get childNodes(){let c=[],u=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;u&&u!=this.nextSibling;)c.push(u),u=u.nextSibling;return c}querySelectorAll(c){return this.childNodes.reduce((u,n)=>{if(n instanceof Element){n.matches(c)&&u.push(n);let o=n.querySelectorAll(c);for(let d=0;d<o.length;d++)u.push(o[d])}return u},[])}insertBefore(c,u){return this.realParentNode.insertBefore(c,u)}moveBefore(c,u){return this.realParentNode.moveBefore(c,u)}get __idiomorphRoot(){return this.originalNode}}function C(Q){let c=new DOMParser,u=Q.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(u.match(/<\/html>/)||u.match(/<\/head>/)||u.match(/<\/body>/)){let n=c.parseFromString(Q,"text/html");if(u.match(/<\/html>/))return B.add(n),n;{let o=n.firstChild;return o&&B.add(o),o}}else{let o=c.parseFromString("<body><template>"+Q+"</template></body>","text/html").body.querySelector("template").content;return B.add(o),o}}return{normalizeElement:R,normalizeParent:I}})();return{morph:t,defaults:e}})();function ut(i,e,{callbacks:t,...s}={}){Ws.morph(i,e,{...s,callbacks:new Ft(t)})}function _t(i,e,t={}){ut(i,e.childNodes,{...t,morphStyle:"innerHTML"})}function Li(i,e){return i instanceof Z&&i.shouldReloadWithMorph&&(!e||ks(i,e))&&!i.closest("[data-turbo-permanent]")}function ks(i,e){return e instanceof Element&&e.nodeName==="TURBO-FRAME"&&i.id===e.id&&(!e.getAttribute("src")||Qi(i.src,e.getAttribute("src")))}function Ri(i){return i.parentElement.closest("turbo-frame[src][refresh=morph]")}var We,Ft=class{constructor({beforeNodeMorphed:e}={}){y(this,We);l(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));l(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&m(this,We).call(this,e,t)?!E("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});l(this,"beforeAttributeUpdated",(e,t,s)=>!E("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:s}}).defaultPrevented);l(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));l(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&E("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});U(this,We,e||(()=>!0))}};We=new WeakMap;var at=class extends Ee{static renderElement(e,t){E("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),_t(e,t,{callbacks:{beforeNodeMorphed:(s,r)=>Li(s,r)&&Ri(s)===e?(s.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}},X=class X{constructor(){l(this,"hiding",!1);l(this,"value",0);l(this,"visible",!1);l(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return mi`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${X.animationDuration}ms ease-out,
          opacity ${X.animationDuration/2}ms ${X.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,X.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,X.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=X.defaultCSS;let t=fi();return t&&(e.nonce=t),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}};l(X,"animationDuration",300);var It=X,yt=class extends Qe{constructor(){super(...arguments);l(this,"detailsByOuterHTML",this.children.filter(t=>!Vs(t)).map(t=>Xs(t)).reduce((t,s)=>{let{outerHTML:r}=s,a=r in t?t[r]:{type:Ms(s),tracked:Ns(s),elements:[]};return{...t,[r]:{...a,elements:[...a.elements,s]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,s){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in s.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==t).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,s)=>{let{type:r,tracked:a,elements:b}=this.detailsByOuterHTML[s];return r==null&&!a?[...t,...b]:b.length>1?[...t,...b.slice(1)]:t},[])}getMetaValue(t){let s=this.findMetaElementByName(t);return s?s.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((s,r)=>{let{elements:[a]}=this.detailsByOuterHTML[r];return Hs(a,t)?a:s},void 0|void 0)}};function Ms(i){if(Zs(i))return"script";if(Ds(i))return"stylesheet"}function Ns(i){return i.getAttribute("data-turbo-track")=="reload"}function Zs(i){return i.localName=="script"}function Vs(i){return i.localName=="noscript"}function Ds(i){let e=i.localName;return e=="style"||e=="link"&&i.getAttribute("rel")=="stylesheet"}function Hs(i,e){return i.localName=="meta"&&i.getAttribute("name")==e}function Xs(i){return i.hasAttribute("nonce")&&i.setAttribute("nonce",""),i}var N=class i extends Qe{static fromHTMLString(e=""){return this.fromDocument(ui(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:s}){return new this(e,t,new yt(s))}constructor(e,t,s){super(t),this.documentElement=e,this.headSnapshot=s}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),s=e.querySelectorAll("select");for(let[r,a]of t.entries()){let b=s[r];for(let S of b.selectedOptions)S.selected=!1;for(let S of a.selectedOptions)b.options[S.index].selected=!0}for(let r of e.querySelectorAll('input[type="password"]'))r.value="";return new i(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return x(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},ke,J,Ct=class{constructor(){y(this,ke,!1);y(this,J,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!m(this,ke)?(U(this,ke,!0),U(this,J,m(this,J).then(async()=>{await document.startViewTransition(t).finished}))):U(this,J,m(this,J).then(t)),m(this,J)}get viewTransitionsAvailable(){return document.startViewTransition}};ke=new WeakMap,J=new WeakMap;var js={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Pe={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},H={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},ge={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Ps={advance:"forward",restore:"back",replace:"none"},wt=class{constructor(e,t,s,r={}){l(this,"identifier",$());l(this,"timingMetrics",{});l(this,"followedRedirect",!1);l(this,"historyChanged",!1);l(this,"scrolled",!1);l(this,"shouldCacheSnapshot",!0);l(this,"acceptsStreamResponse",!1);l(this,"snapshotCached",!1);l(this,"state",H.initialized);l(this,"viewTransitioner",new Ct);this.delegate=e,this.location=t,this.restorationIdentifier=s||$();let{action:a,historyChanged:b,referrer:S,snapshot:G,snapshotHTML:z,response:k,visitCachedSnapshot:ae,willRender:B,updateHistory:R,shouldCacheSnapshot:I,acceptsStreamResponse:w,direction:C}={...js,...r};this.action=a,this.historyChanged=b,this.referrer=S,this.snapshot=G,this.snapshotHTML=z,this.response=k,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=ae,this.willRender=B,this.updateHistory=R,this.scrolled=!B,this.shouldCacheSnapshot=I,this.acceptsStreamResponse=w,this.direction=C||Ps[a]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==H.initialized&&(this.recordTimingMetric(Pe.visitStart),this.state=H.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==H.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=H.canceled)}complete(){this.state==H.started&&(this.recordTimingMetric(Pe.visitEnd),this.adapter.visitCompleted(this),this.state=H.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==H.started&&(this.state=H.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,t=gi(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new oe(this,O.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Pe.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;ni(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Pe.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,ni(e)&&t!=null){let s=N.fromHTMLString(t);await this.renderPageSnapshot(s,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(N.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!ne(this.location)||e.hasAnchor(ne(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return N.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Y.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let s=await t.responseHTML,{redirected:r,statusCode:a}=t;s==null?this.recordResponse({statusCode:ge.contentTypeMismatch,redirected:r}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:a,responseHTML:s,redirected:r}))}async requestFailedWithResponse(e,t){let s=await t.responseHTML,{redirected:r,statusCode:a}=t;s==null?this.recordResponse({statusCode:ge.contentTypeMismatch,redirected:r}):this.recordResponse({statusCode:a,responseHTML:s,redirected:r})}requestErrored(e,t){this.recordResponse({statusCode:ge.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=ne(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function ni(i){return i>=200&&i<300}var Ut=class{constructor(e){l(this,"progressBar",new It);l(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){q(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||$(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case ge.networkFailure:case ge.timeoutFailure:case ge.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){E("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}},St=class{constructor(){l(this,"selector","[data-turbo-temporary]");l(this,"deprecatedSelector","[data-turbo-cache=false]");l(this,"started",!1);l(this,"removeTemporaryElements",e=>{for(let t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},W,Ei,Ye,ze,Lt=class{constructor(e,t){y(this,W);this.session=e,this.element=t,this.linkInterceptor=new st(this,t),this.formSubmitObserver=new Le(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,s){return p(this,W,Ye).call(this,e)}linkClickIntercepted(e,t,s){let r=p(this,W,ze).call(this,e);r&&r.delegate.linkClickIntercepted(e,t,s)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&p(this,W,Ei).call(this,e,t)&&p(this,W,Ye).call(this,e,t)}formSubmitted(e,t){let s=p(this,W,ze).call(this,e,t);s&&s.delegate.formSubmitted(e,t)}};W=new WeakSet,Ei=function(e,t){let s=qt(e,t),r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),a=x(r?.content??"/");return p(this,W,Ye).call(this,e,t)&&q(s,a)},Ye=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let r=p(this,W,ze).call(this,e,t);return r?r!=e.closest("turbo-frame"):!1}else return!1},ze=function(e,t){let s=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(s&&s!="_top"){let r=this.element.querySelector(`#${s}:not([disabled])`);if(r instanceof Z)return r}};var Rt=class{constructor(e){l(this,"location");l(this,"restorationIdentifier",$());l(this,"restorationData",{});l(this,"started",!1);l(this,"pageLoaded",!1);l(this,"currentIndex",0);l(this,"onPopState",e=>{if(this.shouldHandlePopState()){let{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);let{restorationIdentifier:s,restorationIndex:r}=t;this.restorationIdentifier=s;let a=r>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,s,a),this.currentIndex=r}}});l(this,"onPageLoad",async e=>{await ns(),this.pageLoaded=!0});this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,s=$()){e===history.pushState&&++this.currentIndex;let r={turbo:{restorationIdentifier:s,restorationIndex:this.currentIndex}};e.call(history,r,"",t.href),this.location=t,this.restorationIdentifier=s}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,s=this.restorationData[t];this.restorationData[t]={...s,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},fe,Me,Ne,Ze,ht,Ve,Ie,Ai,Gi,Et=class{constructor(e,t){y(this,Ie);l(this,"started",!1);y(this,fe,null);y(this,Me,()=>{this.eventTarget.addEventListener("mouseenter",m(this,Ne),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",m(this,Ze),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",m(this,Ve),!0),this.started=!0});y(this,Ne,e=>{if(et("turbo-prefetch")==="false")return;let t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&p(this,Ie,Gi).call(this,t)){let r=t,a=Bi(r);if(this.delegate.canPrefetchRequestToLocation(r,a)){U(this,fe,r);let b=new oe(this,O.get,a,new URLSearchParams,t);b.fetchOptions.priority="low",ue.setLater(a.toString(),b,m(this,Ie,Ai))}}});y(this,Ze,e=>{e.target===m(this,fe)&&m(this,ht).call(this)});y(this,ht,()=>{ue.clear(),U(this,fe,null)});y(this,Ve,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let t=ue.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),ue.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",m(this,Me),{once:!0}):m(this,Me).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",m(this,Ne),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",m(this,Ze),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",m(this,Ve),!0),this.started=!1)}prepareRequest(e){let t=e.target;e.headers["X-Sec-Purpose"]="prefetch";let s=t.closest("turbo-frame"),r=t.getAttribute("data-turbo-frame")||s?.getAttribute("target")||s?.id;r&&r!=="_top"&&(e.headers["Turbo-Frame"]=r)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}};fe=new WeakMap,Me=new WeakMap,Ne=new WeakMap,Ze=new WeakMap,ht=new WeakMap,Ve=new WeakMap,Ie=new WeakSet,Ai=function(){return Number(et("turbo-prefetch-cache-time"))||ys},Gi=function(e){return!(!e.getAttribute("href")||Ys(e)||zs(e)||qs(e)||Js(e)||_s(e))};var Ys=i=>i.origin!==document.location.origin||!["http:","https:"].includes(i.protocol)||i.hasAttribute("target"),zs=i=>i.pathname+i.search===document.location.pathname+document.location.search||i.href.startsWith("#"),qs=i=>{if(i.getAttribute("data-turbo-prefetch")==="false"||i.getAttribute("data-turbo")==="false")return!0;let e=me(i,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Js=i=>{let e=i.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Ks(i)||i.hasAttribute("data-turbo-confirm")||i.hasAttribute("data-turbo-stream"))},Ks=i=>i.hasAttribute("data-remote")||i.hasAttribute("data-behavior")||i.hasAttribute("data-confirm")||i.hasAttribute("data-method"),_s=i=>E("turbo:before-prefetch",{target:i,cancelable:!0}).defaultPrevented,ye,Ti,xi,At=class{constructor(e){y(this,ye);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,s={}){this.stop(),this.currentVisit=new wt(this,x(e),t,{referrer:this.location,...s}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new tt(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let s=await t.responseHTML;if(s){let r=e.isSafe;r||this.view.clearSnapshotCache();let{statusCode:a,redirected:b}=t,G={action:p(this,ye,Ti).call(this,e,t),shouldCacheSnapshot:r,response:{statusCode:a,responseHTML:s,redirected:b}};this.proposeVisit(t.location,G)}}}async formSubmissionFailedWithResponse(e,t){let s=await t.responseHTML;if(s){let r=N.fromHTMLString(s);t.serverError?await this.view.renderError(r,this.currentVisit):await this.view.renderPage(r,!1,!0,this.currentVisit),r.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){let s=ne(e),r=ne(this.view.lastRenderedLocation),a=t==="restore"&&typeof s>"u";return t!=="replace"&&pt(e)===pt(this.view.lastRenderedLocation)&&(a||s!=null&&s!==r)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}};ye=new WeakSet,Ti=function(e,t){let{submitter:s,formElement:r}=e;return re(s,r)||p(this,ye,xi).call(this,t)},xi=function(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"};var ee={initial:0,loading:1,interactive:2,complete:3},Gt=class{constructor(e){l(this,"stage",ee.initial);l(this,"started",!1);l(this,"interpretReadyState",()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});l(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==ee.initial&&(this.stage=ee.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ee.loading&&(this.stage=ee.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ee.interactive&&(this.stage=ee.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},Tt=class{constructor(e){l(this,"started",!1);l(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},xt=class{render({fragment:e}){ot.preservingPermanentElements(this,$s(e),()=>{er(e,()=>{tr(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function $s(i){let e=Si(document.documentElement),t={};for(let s of e){let{id:r}=s;for(let a of i.querySelectorAll("turbo-stream")){let b=Ui(a.templateElement.content,r);b&&(t[r]=[s,b])}}return t}async function er(i,e){let t=`turbo-stream-autofocus-${$()}`,s=i.querySelectorAll("turbo-stream"),r=ir(s),a=null;if(r&&(r.id?a=r.id:a=t,r.id=a),e(),await we(),(document.activeElement==null||document.activeElement==document.body)&&a){let S=document.getElementById(a);zt(S)&&S.focus(),S&&S.id==t&&S.removeAttribute("id")}}async function tr(i){let[e,t]=await ds(i,()=>document.activeElement),s=e&&e.id;if(s){let r=document.getElementById(s);zt(r)&&r!=t&&r.focus()}}function ir(i){for(let e of i){let t=pi(e.templateElement.content);if(t)return t}return null}var K,Ot=class{constructor(e){l(this,"sources",new Set);y(this,K,!1);l(this,"inspectFetchResponse",e=>{let t=sr(e);t&&rr(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});l(this,"receiveMessageEvent",e=>{m(this,K)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){m(this,K)||(U(this,K,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){m(this,K)&&(U(this,K,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Y.wrap(e))}};K=new WeakMap;function sr(i){let e=i.detail?.fetchResponse;if(e instanceof Se)return e}function rr(i){return(i.contentType??"").startsWith(Y.contentType)}var Wt=class extends Re{static renderElement(e,t){let{documentElement:s,body:r}=document;s.replaceChild(t,r)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let s=Ue(e);t.replaceChild(s,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},dt,Oi,Ae=class extends Re{constructor(){super(...arguments);y(this,dt)}static renderElement(t,s){document.body&&s instanceof HTMLBodyElement?document.body.replaceWith(s):document.documentElement.appendChild(s)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){p(this,dt,Oi).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let t=this.mergeProvisionalElements(),s=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await s,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let t=[];for(let s of this.newHeadStylesheetElements)t.push(ls(s)),document.head.appendChild(s);await Promise.all(t)}copyNewHeadScriptElements(){for(let t of this.newHeadScriptElements)document.head.appendChild(Ue(t))}removeUnusedDynamicStylesheetElements(){for(let t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){let t=[...this.newHeadProvisionalElements];for(let s of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(s,t)||document.head.removeChild(s);for(let s of t)document.head.appendChild(s)}isCurrentElementInElementList(t,s){for(let[r,a]of s.entries()){if(t.tagName=="TITLE"){if(a.tagName!="TITLE")continue;if(t.innerHTML==a.innerHTML)return s.splice(r,1),!0}if(a.isEqualNode(t))return s.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(let t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let t of this.newBodyScriptElements){let s=Ue(t);t.replaceWith(s)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}};dt=new WeakSet,Oi=function(){let{documentElement:t}=this.currentSnapshot,{lang:s}=this.newSnapshot;s?t.setAttribute("lang",s):t.removeAttribute("lang")};var lt=class extends Ae{static renderElement(e,t){ut(e,t,{callbacks:{beforeNodeMorphed:(s,r)=>Li(s,r)&&!Ri(s)?(s.reload(),!1):!0}}),E("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}},kt=class{constructor(e){l(this,"keys",[]);l(this,"snapshots",{});this.size=e}has(e){return je(e)in this.snapshots}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[je(e)]}write(e,t){this.snapshots[je(e)]=t}touch(e){let t=je(e),s=this.keys.indexOf(t);s>-1&&this.keys.splice(s,1),this.keys.unshift(t),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Mt=class extends it{constructor(){super(...arguments);l(this,"snapshotCache",new kt(10));l(this,"lastRenderedLocation",new URL(location.href));l(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,s=!1,r=!0,a){let S=this.isPageRefresh(a)&&this.snapshot.shouldMorphPage?lt:Ae,G=new S(this.snapshot,t,s,r);return G.shouldRender?a?.changeHistory():this.forceReloaded=!0,this.render(G)}renderError(t,s){s?.changeHistory();let r=new Wt(this.snapshot,t,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:s}=this;await di();let r=t.clone();return this.snapshotCache.put(s,r),r}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return N.fromElement(this.element)}},De,Nt=class{constructor(e,t){l(this,"selector","a[data-turbo-preload]");y(this,De,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m(this,De)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",m(this,De))}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(this.snapshotCache.has(t))return;await new oe(this,O.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{let s=await t.responseHTML,r=N.fromHTMLString(s);this.snapshotCache.put(e.url,r)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}};De=new WeakMap;var pe,qe,Zt=class{constructor(e){y(this,pe);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){p(this,pe,qe).call(this,"")}exemptPageFromCache(){p(this,pe,qe).call(this,"no-cache")}exemptPageFromPreview(){p(this,pe,qe).call(this,"no-preview")}};pe=new WeakSet,qe=function(e){hs("turbo-cache-control",e)};var He,Vt=class{constructor(e){l(this,"navigator",new At(this));l(this,"history",new Rt(this));l(this,"view",new Mt(this,document.documentElement));l(this,"adapter",new Ut(this));l(this,"pageObserver",new Gt(this));l(this,"cacheObserver",new St);l(this,"linkPrefetchObserver",new Et(this,document));l(this,"linkClickObserver",new rt(this,window));l(this,"formSubmitObserver",new Le(this,document));l(this,"scrollObserver",new Tt(this));l(this,"streamObserver",new Ot(this));l(this,"formLinkClickObserver",new nt(this,document.documentElement));l(this,"frameRedirector",new Lt(this,document.documentElement));l(this,"streamMessageRenderer",new xt);l(this,"cache",new Zt(this));l(this,"enabled",!0);l(this,"started",!1);y(this,He,150);this.recentRequests=e,this.preloader=new Nt(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let s=t.frame?document.getElementById(t.frame):null;if(s instanceof Z){let r=t.action||re(s);s.delegate.proposeVisitIfNavigatedWithAction(s,r),s.src=e.toString()}else this.navigator.proposeVisit(x(e),t)}refresh(e,t){let s=t&&this.recentRequests.has(t),r=e===document.baseURI;!s&&!this.navigator.currentVisit&&r&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Y.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){T.drive.progressBarDelay=e}get progressBarDelay(){return T.drive.progressBarDelay}set drive(e){T.drive.enabled=e}get drive(){return T.drive.enabled}set formMode(e){T.forms.mode=e}get formMode(){return T.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return m(this,He)}set pageRefreshDebouncePeriod(e){this.refresh=us(this.debouncedRefresh.bind(this),e),U(this,He,e)}shouldPreloadLink(e){let t=e.hasAttribute("data-turbo-method"),s=e.hasAttribute("data-turbo-stream"),r=e.getAttribute("data-turbo-frame"),a=r=="_top"?null:document.getElementById(r)||me(e,"turbo-frame:not([disabled])");if(t||s||a instanceof Z)return!1;{let b=new URL(e.href);return this.elementIsNavigatable(e)&&q(b,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,s){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:s}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,s){return this.elementIsNavigatable(e)&&q(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,s)}followedLinkToLocation(e,t){let s=this.getActionForLink(e),r=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:s,acceptsStreamResponse:r})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){oi(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(_e(document.documentElement),this.view.markVisitDirection(e.direction)),oi(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),$e(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){let s=qt(e,t);return this.submissionIsNavigatable(e,t)&&q(x(s),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let s=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:r,detail:{render:a}}=s;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!r}viewRenderedSnapshot(e,t,s){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(s)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,s){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,s).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,s){return E("turbo:click",{target:e,detail:{url:t.href,originalEvent:s},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return E("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return E("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return E("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return E("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return E("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return E("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return E("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return E("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(T.forms.mode=="off")return!1;{let s=t?this.elementIsNavigatable(t):!0;return T.forms.mode=="optin"?s&&e.closest('[data-turbo="true"]')!=null:s&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=me(e,"[data-turbo]"),s=me(e,"turbo-frame");return T.drive.enabled||s?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return re(e)||"advance"}get snapshot(){return this.view.snapshot}};He=new WeakMap;function oi(i){Object.defineProperties(i,nr)}var nr={absoluteURL:{get(){return this.toString()}}},A=new Vt(Fi),{cache:or,navigator:ar}=A;function Wi(){A.start()}function lr(i){A.registerAdapter(i)}function mt(i,e){A.visit(i,e)}function ki(i){A.connectStreamSource(i)}function Mi(i){A.disconnectStreamSource(i)}function cr(i){A.renderStreamMessage(i)}function hr(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),A.clearCache()}function dr(i){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),T.drive.progressBarDelay=i}function ur(i){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),T.forms.confirm=i}function mr(i){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),T.forms.mode=i}function gr(i,e){lt.renderElement(i,e)}function fr(i,e){at.renderElement(i,e)}var pr=Object.freeze({__proto__:null,navigator:ar,session:A,cache:or,PageRenderer:Ae,PageSnapshot:N,FrameRenderer:Ee,fetch:Ii,config:T,start:Wi,registerAdapter:lr,visit:mt,connectStreamSource:ki,disconnectStreamSource:Mi,renderStreamMessage:cr,clearCache:hr,setProgressBarDelay:dr,setConfirmMethod:ur,setFormMode:mr,morphBodyElements:gr,morphTurboFrameElements:fr,morphChildren:_t,morphElements:ut}),Dt=class extends Error{},be,V,_,Xe,ve,Be,v,ce,Ni,Zi,Vi,Di,Hi,Xi,ji,Xt,he,Pi,Je,Yi,zi,qi,Ht=class{constructor(e){y(this,v);l(this,"fetchResponseLoaded",e=>Promise.resolve());y(this,be,null);y(this,V,()=>{});y(this,_,!1);y(this,Xe,!1);y(this,ve,new Set);y(this,Be,!1);l(this,"action",null);l(this,"visitCachedSnapshot",({element:e})=>{let t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new Qt(this,this.element),this.appearanceObserver=new vt(this,this.element),this.formLinkClickObserver=new nt(this,this.element),this.linkInterceptor=new st(this,this.element),this.restorationIdentifier=$(),this.formSubmitObserver=new Le(this,this.element)}connect(){m(this,_)||(U(this,_,!0),this.loadingStyle==de.lazy?this.appearanceObserver.start():p(this,v,ce).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){m(this,_)&&(U(this,_,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==de.eager&&p(this,v,ce).call(this)}sourceURLChanged(){p(this,v,Yi).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==de.eager||m(this,Xe))&&p(this,v,ce).call(this))}sourceURLReloaded(){let{refresh:e,src:t}=this.element;return U(this,Be,t&&e==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==de.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),p(this,v,ce).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let s=ui(t);N.fromDocument(s).isVisitable?await p(this,v,Ni).call(this,e,s):await p(this,v,Di).call(this,e)}}finally{U(this,Be,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,re(e)),p(this,v,ce).call(this)}willSubmitFormLinkToLocation(e){return p(this,v,Je).call(this,e)}submittedFormLinkToLocation(e,t,s){let r=p(this,v,he).call(this,e);r&&s.setAttribute("data-turbo-frame",r.id)}shouldInterceptLinkClick(e,t,s){return p(this,v,Je).call(this,e)}linkClickIntercepted(e,t){p(this,v,Vi).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&p(this,v,Je).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new tt(this,e,t);let{fetchRequest:s}=this.formSubmission;this.prepareRequest(s),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Y.contentType)}requestStarted(e){_e(this.element)}requestPreventedHandlingResponse(e,t){m(this,V).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),m(this,V).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),m(this,V).call(this)}requestErrored(e,t){console.error(t),m(this,V).call(this)}requestFinished(e){$e(this.element)}formSubmissionStarted({formElement:e}){_e(e,p(this,v,he).call(this,e))}formSubmissionSucceededWithResponse(e,t){let s=p(this,v,he).call(this,e.formElement,e.submitter);s.delegate.proposeVisitIfNavigatedWithAction(s,re(e.submitter,e.formElement,s)),s.delegate.loadResponse(t),e.isSafe||A.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),A.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){$e(e,p(this,v,he).call(this,e))}allowsImmediateRender({element:e},t){let s=E("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:r,detail:{render:a}}=s;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!r}viewRenderedSnapshot(e,t,s){}preloadOnLoadLinksForView(e){A.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){let s=N.fromElement(e).clone(),{visitCachedSnapshot:r}=e.delegate;e.delegate.fetchResponseLoaded=async a=>{if(e.src){let{statusCode:b,redirected:S}=a,G=await a.responseHTML,k={response:{statusCode:b,redirected:S,responseHTML:G},visitCachedSnapshot:r,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:s};this.action&&(k.action=this.action),A.visit(e.src,k)}}}}changeHistory(){if(this.action){let e=gi(this.action);A.history.update(e,x(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t,s=CSS.escape(this.id);try{if(t=li(e.querySelector(`turbo-frame#${s}`),this.sourceURL),t)return t;if(t=li(e.querySelector(`turbo-frame[src][recurse~=${s}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(r){return console.error(r),new Z}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){p(this,v,zi).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||m(this,V).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&m(this,_)}get rootLocation(){let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return x(t)}};be=new WeakMap,V=new WeakMap,_=new WeakMap,Xe=new WeakMap,ve=new WeakMap,Be=new WeakMap,v=new WeakSet,ce=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=p(this,v,Zi).call(this,x(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,U(this,Xe,!0))},Ni=async function(e,t){let s=await this.extractForeignFrameElement(t.body),r=m(this,Be)?at:Ee;if(s){let a=new Qe(s),b=new r(this,this.view.snapshot,a,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(b),this.complete=!0,A.frameRendered(e,this.element),A.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else p(this,v,Hi).call(this,e)&&p(this,v,Xi).call(this,e)},Zi=async function(e){let t=new oe(this,O.get,e,new URLSearchParams,this.element);return m(this,be)?.cancel(),U(this,be,t),new Promise(s=>{U(this,V,()=>{U(this,V,()=>{}),U(this,be,null),s()}),t.perform()})},Vi=function(e,t,s){let r=p(this,v,he).call(this,e,s);r.delegate.proposeVisitIfNavigatedWithAction(r,re(s,e,r)),p(this,v,qi).call(this,e,()=>{r.src=t})},Di=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await p(this,v,Xt).call(this,e.response)},Hi=function(e){this.element.setAttribute("complete","");let t=e.response,s=async(a,b)=>{a instanceof Response?p(this,v,Xt).call(this,a):A.visit(a,b)};return!E("turbo:frame-missing",{target:this.element,detail:{response:t,visit:s},cancelable:!0}).defaultPrevented},Xi=function(e){this.view.missing(),p(this,v,ji).call(this,e)},ji=function(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Dt(t)},Xt=async function(e){let t=new Se(e),s=await t.responseHTML,{location:r,redirected:a,statusCode:b}=t;return A.visit(r,{response:{redirected:a,statusCode:b,responseHTML:s}})},he=function(e,t){let s=Ke("data-turbo-frame",t,e)||this.element.getAttribute("target");return ai(s)??this.element},Pi=function(e,t){let s=qt(e,t);return q(x(s),this.rootLocation)},Je=function(e,t){let s=Ke("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!p(this,v,Pi).call(this,e,t)||!this.enabled||s=="_top")return!1;if(s){let r=ai(s);if(r)return!r.disabled}return!(!A.elementIsNavigatable(e)||t&&!A.elementIsNavigatable(t))},Yi=function(e){return m(this,ve).has(e)},zi=function(e,t){m(this,ve).add(e),t(),m(this,ve).delete(e)},qi=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement};function ai(i){if(i!=null){let e=document.getElementById(i);if(e instanceof Z)return e}}function li(i,e){if(i){let t=i.getAttribute("src");if(t!=null&&e!=null&&Qi(t,e))throw new Error(`Matching <turbo-frame id="${i.id}"> element has a source URL which references itself`);if(i.ownerDocument!==document&&(i=document.importNode(i,!0)),i instanceof Z)return i.connectedCallback(),i.disconnectedCallback(),i}}var Ji={after(){this.targetElements.forEach(i=>i.parentElement?.insertBefore(this.templateContent,i.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.append(this.templateContent))},before(){this.targetElements.forEach(i=>i.parentElement?.insertBefore(this.templateContent,i))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.prepend(this.templateContent))},remove(){this.targetElements.forEach(i=>i.remove())},replace(){let i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?ut(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?_t(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){A.refresh(this.baseURI,this.requestId)}},se,Ce,$t=class $t extends HTMLElement{constructor(){super(...arguments);y(this,se)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await we(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){let t=this.targetElements.flatMap(r=>[...r.children]).filter(r=>!!r.getAttribute("id")),s=[...this.templateContent?.children||[]].filter(r=>!!r.getAttribute("id")).map(r=>r.getAttribute("id"));return t.filter(r=>s.includes(r.getAttribute("id")))}get performAction(){if(this.action){let t=Ji[this.action];if(t)return t;p(this,se,Ce).call(this,"unknown action")}p(this,se,Ce).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;p(this,se,Ce).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;p(this,se,Ce).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:$t.renderElement}})}get targetElementsById(){let t=this.ownerDocument?.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){let t=this.ownerDocument?.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};se=new WeakSet,Ce=function(t){throw new Error(`${this.description}: ${t}`)};var jt=$t,Pt=class extends HTMLElement{constructor(){super(...arguments);l(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),ki(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Mi(this.streamSource))}get src(){return this.getAttribute("src")||""}};Z.delegateConstructor=Ht;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Z);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",jt);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Pt);(()=>{let i=document.currentScript;if(i&&!i.hasAttribute("data-turbo-suppress-warning"))for(i=i.parentElement;i;){if(i==document.body)return console.warn(mi`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,i.outerHTML);i=i.parentElement}})();window.Turbo={...pr,StreamActions:Ji};Wi();function vr(i){let e=document.activeElement;if(!(e&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable))){if(i.key==="ArrowRight"){let t=document.getElementById("btn-next");t&&(i.preventDefault(),mt(t.href))}if(i.key==="ArrowLeft"){let t=document.getElementById("btn-previous");t&&(i.preventDefault(),mt(t.href))}}}document.addEventListener("keydown",vr);})();
/*! Bundled license information:

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.19
  Copyright  2025 37signals LLC
   *)
*/
//# sourceMappingURL=/_bridgetown/static/index.XRE2XYFL.js.map

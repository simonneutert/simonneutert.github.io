<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://bridgetownrb.com/" version="2.0.5">Bridgetown</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2025-12-07T10:49:02+01:00</updated><id>/feed.xml</id><title type="html">Simon Neutert</title><subtitle>I am a Ruby (on Rails) developer and open source enthusiast. Super interest in Clojure. Based in Ingelheim, next to Mainz and Wiesbaden (Rhein-Main).</subtitle><entry><title type="html">Distrobox exported app do not output sound</title><link href="/2025/sound-in-exported-distrobox-apps/" rel="alternate" type="text/html" title="Distrobox exported app do not output sound" /><published>2025-12-05T00:00:00+01:00</published><updated>2025-12-05T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-12-05-sound-in-exported-distrobox-apps.md</id><content type="html" xml:base="/2025/sound-in-exported-distrobox-apps/">&lt;p&gt;You‚Äôre an avid Distrobox user, but after exporting your favourite browser, there no sound üòø&lt;/p&gt;

&lt;p&gt;You need to support Pulse Audio!&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Pavucontrol is the gold-standard for managing the Pulse Audio sound server on Linux. Despite this, it‚Äôs not the default sound manager tool on mainstream Linux distributions. As a result, before we can continue with this tutorial, we‚Äôll need to go over how to install the Pavucontrol audio manager.&lt;/p&gt;

  &lt;p&gt;To install Pavucontrol, launch a terminal window and follow the instructions that correspond with your Linux operating system.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I will use Debian for demonstration, so you‚Äôll find your package - I am sure!&lt;/p&gt;

&lt;p&gt;Install the GTK version:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get install pavucontrol&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;And for QT install:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get install pavucontrol-qt&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;After installing Mariah Carey was blasting out loud on the speakers.&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Speed up Vulkan Shader Compilation on Bazzite</title><link href="/2025/vulkan-shader/" rel="alternate" type="text/html" title="Speed up Vulkan Shader Compilation on Bazzite" /><published>2025-11-29T00:00:00+01:00</published><updated>2025-11-29T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-29-vulkan-shader.md</id><content type="html" xml:base="/2025/vulkan-shader/">&lt;p&gt;Steam can take ages to precompile the shaders for Vulkan?&lt;/p&gt;

&lt;p&gt;Hard to find, easy to implement:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nvim .local/share/Steam/steam_dev.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and edit/add those two lines:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@ShaderBackgroundProcessingThreads 8
unShaderBackgroundProcessingThreads 8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure to adjust, the 8 is fine in my case. The number represents the numbers of CPU cores Vulkan can use.&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">ssh: Copying, Pasting - not working with Wayland</title><link href="/2025/wayland-clipboard/" rel="alternate" type="text/html" title="ssh: Copying, Pasting - not working with Wayland" /><published>2025-11-24T00:00:00+01:00</published><updated>2025-11-24T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-24-wayland-clipboard.md</id><content type="html" xml:base="/2025/wayland-clipboard/">&lt;p&gt;You‚Äôre tugging along happily, setting things up, but one thing starts bothering you.&lt;/p&gt;

&lt;p&gt;Let‚Äôs say, you have a config file open in (n)vim on your server and want to select parts and paste them somewhere else.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Ctrl+Shift+C&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;Ctrl+Shift+V&lt;/code&gt; are not working from inside (n)vim editors ü§î&lt;/p&gt;

&lt;p&gt;You resort to the solution, that always slipped your mind in the past:&lt;/p&gt;

&lt;p&gt;Visually selecting the parts in vim and yanking to clipboard with &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;+y&lt;/code&gt; - well, that‚Äôs broken, too.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;vim system register * and + not working&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Neovim should work.&lt;br /&gt;
But, it does not.&lt;/p&gt;

&lt;p&gt;Googling brought me to: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt install wl-clipboard&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;You need a modern Neovim&lt;/strong&gt; (&amp;gt; 0.10.x) build with Wayland clipboard support!&lt;/p&gt;

&lt;p&gt;This works because Wayland uses a different clipboard protocol than X11. The &lt;code class=&quot;highlighter-rouge&quot;&gt;wl-clipboard&lt;/code&gt; package provides the necessary tools (&lt;code class=&quot;highlighter-rouge&quot;&gt;wl-copy&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;wl-paste&lt;/code&gt;) that Neovim uses to interface with Wayland‚Äôs clipboard, enabling the &lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt; registers to function properly.&lt;/p&gt;

&lt;p&gt;Some things are just plain hard in Linux.&lt;/p&gt;

&lt;h2 id=&quot;for-copy-pasting-with-vim&quot;&gt;For copy-pasting with vim&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/61379319&quot;&gt;https://stackoverflow.com/a/61379319&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Assuming you only want to copy line sections of the file, do shift+v to go into
visual mode and only highlight the lines I want to copy. Then do.&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;:&apos;&amp;lt;,&apos;&amp;gt;w !wl-copy&lt;/code&gt;&lt;/p&gt;

  &lt;p&gt;where&lt;/p&gt;

  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&apos;&amp;lt;,&apos;&amp;gt;&lt;/code&gt; - means you used visual mode to select a range (you don‚Äôt type this)
&lt;code class=&quot;highlighter-rouge&quot;&gt;w !{cmd}&lt;/code&gt; - write the range to the stdin of cmd, see more at &lt;code class=&quot;highlighter-rouge&quot;&gt;:help w_c&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name></name></author></entry><entry><title type="html">Setting Up Nerd Fonts for Kitty and LazyVim on Bazzite</title><link href="/2025/lazyvim-nerdfonts-silverblue/" rel="alternate" type="text/html" title="Setting Up Nerd Fonts for Kitty and LazyVim on Bazzite" /><published>2025-11-24T00:00:00+01:00</published><updated>2025-11-24T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-24-lazyvim-nerdfonts-silverblue.md</id><content type="html" xml:base="/2025/lazyvim-nerdfonts-silverblue/">&lt;p&gt;If you‚Äôre new to Linux and just getting started, this guide is for you.&lt;/p&gt;

&lt;p&gt;My setup:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;OS: &lt;a href=&quot;https://bazzite.gg/&quot;&gt;Bazzite&lt;/a&gt; (Gnome)&lt;/li&gt;
  &lt;li&gt;Terminal Emulator: &lt;a href=&quot;https://sw.kovidgoyal.net/kitty/&quot;&gt;Kitty&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Editor: &lt;a href=&quot;https://www.lazyvim.org/&quot;&gt;LazyVim&lt;/a&gt; (inside a &lt;a href=&quot;https://distrobox.it/&quot;&gt;distrobox&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After setting up your distrobox with your preferred tools (likely what you were comfortable with before switching to an atomic distribution), it‚Äôs time to get coding.&lt;/p&gt;

&lt;p&gt;You install packages via brew, apt, dnf, or pacman, finally open LazyVim, and‚Ä¶ the icons are missing. Damn.&lt;/p&gt;

&lt;p&gt;Here‚Äôs the fix:&lt;/p&gt;

&lt;p&gt;Download your favorite font from &lt;a href=&quot;https://www.nerdfonts.com/&quot;&gt;nerdfonts.com&lt;/a&gt; and unzip it.&lt;/p&gt;

&lt;p&gt;Copy or move the &lt;code class=&quot;highlighter-rouge&quot;&gt;*.ttf&lt;/code&gt; files into &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.local/share/fonts/&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.ttf ~/.local/share/fonts/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Close all distroboxes and Kitty windows, then open a fresh Kitty terminal and run:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;kitten choose-fonts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pick your favorite font ü•≥&lt;br /&gt;
Enjoy!&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Type emojis in LazyVim (in a Kitty terminal)</title><link href="/2025/emojis-lazyvim-kitty/" rel="alternate" type="text/html" title="Type emojis in LazyVim (in a Kitty terminal)" /><published>2025-11-24T00:00:00+01:00</published><updated>2025-11-24T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-24-emojis-lazyvim-kitty.md</id><content type="html" xml:base="/2025/emojis-lazyvim-kitty/">&lt;p&gt;As I‚Äôm learning LazyVim, I ran into a surprisingly tricky problem: how do I type emojis from my keyboard? Here‚Äôs how I solved it.&lt;/p&gt;

&lt;h2 id=&quot;my-setup&quot;&gt;My Setup&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;OS: Bazzite (Gnome)&lt;/li&gt;
  &lt;li&gt;Terminal Emulator: Kitty&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-problem&quot;&gt;The Problem&lt;/h2&gt;

&lt;p&gt;When you‚Äôre trying to stay keyboard-focused in LazyVim, reaching for the mouse to insert an emoji feels wrong. Gnome has a built-in emoji picker (accessible via mouse), but there has to be a better way.&lt;/p&gt;

&lt;h2 id=&quot;solution-1-external-emoji-picker&quot;&gt;Solution #1: External Emoji Picker&lt;/h2&gt;

&lt;p&gt;I use &lt;a href=&quot;https://github.com/mijorus/smile/&quot;&gt;smile&lt;/a&gt; (the Flatpak version) combined with &lt;a href=&quot;https://github.com/daniellandau/switcher&quot;&gt;switcher&lt;/a&gt; to quickly launch an emoji picker and paste the selection. This works, but it still requires switching windows.&lt;/p&gt;

&lt;h2 id=&quot;solution-2-kittys-built-in-unicode-input&quot;&gt;Solution #2: Kitty‚Äôs Built-in Unicode Input&lt;/h2&gt;

&lt;p&gt;Kitty has a fantastic built-in &lt;a href=&quot;https://sw.kovidgoyal.net/kitty/kittens/unicode_input/&quot;&gt;Unicode input kitten&lt;/a&gt; that lets you search and insert emojis directly from your keyboard. When triggered, it opens a searchable interface right in your terminal.&lt;/p&gt;

&lt;p&gt;According to the docs, &lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl+shift+u&lt;/code&gt; should activate it. Unfortunately, this keybinding didn‚Äôt work for me‚Äîlikely conflicting with LazyVim or Gnome keybindings.&lt;/p&gt;

&lt;h3 id=&quot;the-fix-remap-the-keybinding&quot;&gt;The Fix: Remap the Keybinding&lt;/h3&gt;

&lt;p&gt;Edit your &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.config/kitty/kitty.conf&lt;/code&gt; and add a custom keybinding:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#: Unicode input

# Default keybindings (commented out if they don&apos;t work)
# map kitty_mod+u    kitten unicode_input
# map ctrl+cmd+space kitten unicode_input

# Custom keybinding - use something that doesn&apos;t conflict
map ctrl+alt+u kitten unicode_input
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; I initially tried &lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl+u&lt;/code&gt;, but that conflicts with Vim‚Äôs ‚Äúscroll up half page‚Äù command. &lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl+alt+u&lt;/code&gt; is a safer choice that won‚Äôt interfere with your editing workflow.&lt;/p&gt;

&lt;h3 id=&quot;how-to-use-it&quot;&gt;How to Use It&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Press your mapped keybinding (e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl+alt+u&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;A searchable emoji picker appears in your terminal&lt;/li&gt;
  &lt;li&gt;Type to search (e.g., ‚Äúsmile‚Äù, ‚Äúrocket‚Äù, ‚Äúfire‚Äù)&lt;/li&gt;
  &lt;li&gt;Use arrow keys to navigate, press &lt;code class=&quot;highlighter-rouge&quot;&gt;Enter&lt;/code&gt; to insert&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Now go on and smash that üòº&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Code Clojure in NeoVim (with LazyVim and Conjure)</title><link href="/2025/conjure-nrepl-nvim-clojure/" rel="alternate" type="text/html" title="Code Clojure in NeoVim (with LazyVim and Conjure)" /><published>2025-11-24T00:00:00+01:00</published><updated>2025-11-24T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-24-conjure-nrepl-nvim-clojure.md</id><content type="html" xml:base="/2025/conjure-nrepl-nvim-clojure/">&lt;p&gt;Want to develop Clojure with a modern, interactive REPL experience right in NeoVim? This guide will walk you through setting up Conjure with LazyVim for a smooth Clojure development workflow.&lt;/p&gt;

&lt;h2 id=&quot;prerequisites&quot;&gt;Prerequisites&lt;/h2&gt;

&lt;p&gt;Before we begin, make sure you have the following installed:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Java&lt;/strong&gt; - A modern Java version (I recommend &lt;a href=&quot;https://adoptium.net/&quot;&gt;Temurin 23&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Clojure&lt;/strong&gt; - Get it from &lt;a href=&quot;https://clojure.org/guides/install_clojure&quot;&gt;clojure.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;LazyVim&lt;/strong&gt; - If you haven‚Äôt set this up yet, check out &lt;a href=&quot;https://www.lazyvim.org/&quot;&gt;LazyVim‚Äôs installation guide&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;configure-nrepl&quot;&gt;Configure nREPL&lt;/h2&gt;

&lt;p&gt;First, configure nREPL in your project. Add this to your &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.clojure/deps.edn&lt;/code&gt; file to make nREPL available globally:&lt;/p&gt;

&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:aliases&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:nREPL&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:extra-deps&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nrepl/nrepl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:mvn/version&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1.4.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}}}}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Version 1.4.0 is the latest stable release at the time of writing.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For more configuration options, check the &lt;a href=&quot;https://nrepl.org/nrepl/usage/server.html&quot;&gt;nREPL documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;configure-lazyvim&quot;&gt;Configure LazyVim&lt;/h2&gt;

&lt;p&gt;LazyVim makes this super easy! Simply enable the Clojure/Conjure extras:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Open LazyVim and run &lt;code class=&quot;highlighter-rouge&quot;&gt;:LazyExtras&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Search for and enable the &lt;code class=&quot;highlighter-rouge&quot;&gt;lang.clojure&lt;/code&gt; extra&lt;/li&gt;
  &lt;li&gt;Restart NeoVim to apply the changes&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This will automatically install Conjure and configure it for Clojure development.&lt;/p&gt;

&lt;h2 id=&quot;start-coding&quot;&gt;Start Coding&lt;/h2&gt;

&lt;p&gt;Now you‚Äôre ready to code! Here‚Äôs the workflow:&lt;/p&gt;

&lt;h3 id=&quot;1-start-the-nrepl-server&quot;&gt;1. Start the nREPL Server&lt;/h3&gt;

&lt;p&gt;In a separate terminal at your project root, start the nREPL server:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;clj &lt;span class=&quot;nt&quot;&gt;-M&lt;/span&gt;:nREPL &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; nrepl.cmdline
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You should see output showing the server started on a specific port (but you don‚Äôt need to worry about it).&lt;/p&gt;

&lt;h3 id=&quot;2-open-your-project-in-neovim&quot;&gt;2. Open Your Project in NeoVim&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nvim &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you open a &lt;code class=&quot;highlighter-rouge&quot;&gt;.clj&lt;/code&gt; file, Conjure will automatically detect and connect to your running nREPL server.&lt;/p&gt;

&lt;h3 id=&quot;3-learn-conjures-keybindings&quot;&gt;3. Learn Conjure‚Äôs Keybindings&lt;/h3&gt;

&lt;p&gt;Conjure comes with an interactive tutorial! Run this command in NeoVim:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;:ConjureSchool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will teach you all the essential keybindings for evaluating code, managing the REPL, and more.&lt;/p&gt;

&lt;h2 id=&quot;quick-tips&quot;&gt;Quick Tips&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Evaluate current form&lt;/strong&gt;: Place your cursor inside a form and use &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;localleader&amp;gt;ee&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Evaluate file&lt;/strong&gt;: &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;localleader&amp;gt;ef&lt;/code&gt; to evaluate the entire file&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;View documentation&lt;/strong&gt;: &lt;code class=&quot;highlighter-rouge&quot;&gt;K&lt;/code&gt; while hovering over a function&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Open REPL log&lt;/strong&gt;: &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;localleader&amp;gt;ls&lt;/code&gt; to see evaluation results&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Happy Clojure coding! üéâ&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Gnome 49 - keypress gets stuck and repeats forever</title><link href="/2025/gnome-sticky/" rel="alternate" type="text/html" title="Gnome 49 - keypress gets stuck and repeats forever" /><published>2025-11-20T00:00:00+01:00</published><updated>2025-11-20T00:00:00+01:00</updated><id>repo://posts.collection/_posts/2025/2025-11-20-gnome-sticky.md</id><content type="html" xml:base="/2025/gnome-sticky/">&lt;p&gt;This bug almost made my keyboard shortcuts useless.&lt;/p&gt;

&lt;p&gt;I am not alone with this problem. &lt;a href=&quot;https://unix.stackexchange.com/questions/360898/gnome-terminal-keypress-gets-stuck-and-repeats-forever&quot;&gt;StackExchange&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My system at the time of writing:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Bazzite (Fedora Silverblue)&lt;/li&gt;
  &lt;li&gt;Gnome 49.1&lt;/li&gt;
  &lt;li&gt;Mutter (Wayland)&lt;/li&gt;
  &lt;li&gt;Linux 6.17.7&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When switching Workspaces, say from &amp;#8220;1&amp;#8221; to &amp;#8220;2&amp;#8221; using &amp;#8220;super+2&amp;#8221; it would spam my input with &amp;#8220;twos&amp;#8221;.&lt;/p&gt;

&lt;p&gt;Nothing ever worked, no fix, no &amp;#8220;hack&amp;#8221;. Turns out, there&amp;#8217;s a bug! See &lt;a href=&quot;https://gitlab.gnome.org/GNOME/mutter/-/issues/4416&quot;&gt;mutter issue&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Switching from Docker Desktop to Podman on macOS</title><link href="/2025/to-podman/" rel="alternate" type="text/html" title="Switching from Docker Desktop to Podman on macOS" /><published>2025-10-12T00:00:00+02:00</published><updated>2025-10-12T00:00:00+02:00</updated><id>repo://posts.collection/_posts/2025/2025-10-12-to-podman.md</id><content type="html" xml:base="/2025/to-podman/">&lt;p&gt;If you&amp;#8217;re considering moving away from Docker Desktop on macOS, Podman is a great open-source alternative that offers similar functionality without the licensing restrictions. Here&amp;#8217;s a guide to help you transition smoothly.&lt;/p&gt;

&lt;h2 id=&quot;why-switch-to-podman&quot;&gt;Why Switch to Podman?&lt;/h2&gt;

&lt;p&gt;Docker Desktop has become a paid product for many users, which has led to increased interest in open-source alternatives. Podman is a daemonless container engine that is compatible with Docker CLI commands, making it easier to switch without changing your workflow significantly.&lt;/p&gt;

&lt;h3 id=&quot;rootless-containers&quot;&gt;Rootless Containers&lt;/h3&gt;

&lt;p&gt;Podman allows you to run containers as a non-root user, enhancing security and reducing the risk of privilege escalation.&lt;/p&gt;

&lt;h3 id=&quot;compatibility-with-docker-cli&quot;&gt;Compatibility with Docker CLI&lt;/h3&gt;

&lt;p&gt;Podman supports many Docker CLI commands, so you can use familiar commands like &lt;code class=&quot;highlighter-rouge&quot;&gt;podman run&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;podman build&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;podman push&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;podman-compose&quot;&gt;Podman Compose&lt;/h3&gt;

&lt;p&gt;Podman Compose is a tool that allows you to use Docker Compose files with Podman, making it easier to manage multi-container applications. Or you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;docker compose&lt;/code&gt; directly with Podman, as a drop-in replacement.&lt;/p&gt;

&lt;h3 id=&quot;podman-ai-lab&quot;&gt;Podman AI Lab&lt;/h3&gt;

&lt;p&gt;Podman AI Lab is an exciting new feature that provides containerized AI tools and models, making it easier to experiment with AI in a containerized environment.&lt;/p&gt;

&lt;h2 id=&quot;installing-podman-on-macos&quot;&gt;Installing Podman on macOS&lt;/h2&gt;

&lt;p&gt;You can install Podman on macOS using Homebrew. Or download it from the &lt;a href=&quot;https://podman.io/&quot;&gt;Podman Desktop website&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;They suggest installing via the installer package, which includes everything you need to get started.&lt;/p&gt;

&lt;h2 id=&quot;common-issues-and-solutions&quot;&gt;Common Issues and Solutions&lt;/h2&gt;

&lt;p&gt;Because I was using Docker/Orbstack for a long time, I had some issues with Podman. Here are some common problems and their solutions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Publishing Images&lt;/strong&gt;: The &lt;code class=&quot;highlighter-rouge&quot;&gt;--push&lt;/code&gt; flag in &lt;code class=&quot;highlighter-rouge&quot;&gt;podman build&lt;/code&gt; doesn&amp;#8217;t work as expected. Instead, use &lt;code class=&quot;highlighter-rouge&quot;&gt;podman push&lt;/code&gt; after building the image.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Multi-Platform Builds&lt;/strong&gt;: Podman supports multi-platform builds. But it&amp;#8217;s up to you to create a &lt;code class=&quot;highlighter-rouge&quot;&gt;manifest&lt;/code&gt; that includes the different architectures you want to support.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# build and push hello-world
podman manifest create ghcr.io/simonneutert/hello-world:latest

podman buildx build -f Dockerfile \
  --manifest ghcr.io/simonneutert/hello-world:latest \
  --platform linux/amd64,linux/arm64 .

podman manifest push --all ghcr.io/simonneutert/hello-world:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while for Docker/Orbstack, you can do it in one command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx build -f Dockerfile \
  --platform linux/amd64,linux/arm64 \
  -t ghcr.io/simonneutert/hello-world:latest \
  --push .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;using-claudechatgpt&quot;&gt;Using Claude/ChatGPT&lt;/h2&gt;

&lt;p&gt;Claude and ChatGPT can be valuable tools in your transition to Podman. They can help you troubleshoot issues, generate configuration files, and even automate parts of your workflow. By integrating these AI models into your development process, you can streamline your container management tasks and improve your overall efficiency.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Switching from Docker Desktop to Podman on macOS is mostly a straightforward process. Despite a few hiccups, I learned a lot about containers from a new perspective. Podman offers a robust, open-source alternative that aligns well with the needs of developers looking for flexibility and control over their container environments. With its compatibility with Docker CLI commands and support for rootless containers, Podman is a compelling choice for macOS users seeking an open-source solution.&lt;/p&gt;

&lt;p&gt;The Podman AI Lab is an exciting addition, just as ollama and Docker AI - but with a focus on isolation and security.&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">Enabling Multi-Platform Docker Builds with OrbStack</title><link href="/2025/orbstack-multi-platform-builds/" rel="alternate" type="text/html" title="Enabling Multi-Platform Docker Builds with OrbStack" /><published>2025-10-09T00:00:00+02:00</published><updated>2025-10-09T00:00:00+02:00</updated><id>repo://posts.collection/_posts/2025/2025-10-09-orbstack-multi-platform-builds.md</id><content type="html" xml:base="/2025/orbstack-multi-platform-builds/">&lt;p&gt;OrbStack is a fast, lightweight alternative to Docker Desktop for macOS. One of its powerful features is the ability to build Docker images for multiple architectures (like ARM64 and AMD64) using Docker Buildx. This is essential when you‚Äôre developing on Apple Silicon but need to deploy to x86_64 servers or support multiple platforms.&lt;/p&gt;

&lt;h2 id=&quot;why-multi-platform-builds-matter&quot;&gt;Why Multi-Platform Builds Matter&lt;/h2&gt;

&lt;p&gt;With the rise of ARM-based systems (Apple Silicon, AWS Graviton, Raspberry Pi), building images that work across architectures has become crucial. Multi-platform builds allow you to:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Develop on Apple Silicon Macs and deploy to x86_64 servers&lt;/li&gt;
  &lt;li&gt;Create images that work on both ARM and AMD architectures&lt;/li&gt;
  &lt;li&gt;Support diverse deployment environments without maintaining separate build pipelines&lt;/li&gt;
  &lt;li&gt;Ensure your application works consistently across different hardware&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;prerequisites&quot;&gt;Prerequisites&lt;/h2&gt;

&lt;p&gt;First, make sure you have OrbStack installed on your Mac. You can download it from &lt;a href=&quot;https://orbstack.dev&quot;&gt;orbstack.dev&lt;/a&gt; or install it via Homebrew:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;orbstack
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Once installed, OrbStack will manage your Docker daemon and provide enhanced performance compared to Docker Desktop.&lt;/p&gt;

&lt;h2 id=&quot;setting-up-docker-buildx&quot;&gt;Setting Up Docker Buildx&lt;/h2&gt;

&lt;p&gt;Docker Buildx is Docker‚Äôs CLI plugin for extended build capabilities with full BuildKit support. OrbStack has excellent support for Buildx, but you need to set up a builder instance to enable multi-platform builds.&lt;/p&gt;

&lt;h3 id=&quot;create-a-new-builder-instance&quot;&gt;Create a New Builder Instance&lt;/h3&gt;

&lt;p&gt;The key command to enable multi-platform builds is:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx create &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt; builder &lt;span class=&quot;nt&quot;&gt;--driver&lt;/span&gt; docker-container &lt;span class=&quot;nt&quot;&gt;--use&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let‚Äôs break down what this command does:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker buildx create&lt;/code&gt; - Creates a new builder instance&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;--name builder&lt;/code&gt; - Names the builder instance ‚Äúbuilder‚Äù (you can use any name you prefer)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;--driver docker-container&lt;/code&gt; - Uses the docker-container driver, which runs BuildKit in a container for better isolation and platform support&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;--use&lt;/code&gt; - Automatically switches to use this new builder as the default&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;verify-your-builder&quot;&gt;Verify Your Builder&lt;/h3&gt;

&lt;p&gt;After creating the builder, you can inspect it:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx inspect &lt;span class=&quot;nt&quot;&gt;--bootstrap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This command will show you the platforms your builder supports. You should see something like:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Name:   builder
Driver: docker-container

Nodes:
Name:      builder0
Endpoint:  orbstack
Status:    running
Platforms: linux/arm64, linux/amd64, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/arm/v7, linux/arm/v6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;--bootstrap&lt;/code&gt; flag ensures the builder container is started if it‚Äôs not already running.&lt;/p&gt;

&lt;h2 id=&quot;building-multi-platform-images&quot;&gt;Building Multi-Platform Images&lt;/h2&gt;

&lt;p&gt;Now that your builder is set up, you can build images for multiple platforms.&lt;/p&gt;

&lt;h3 id=&quot;basic-multi-platform-build&quot;&gt;Basic Multi-Platform Build&lt;/h3&gt;

&lt;p&gt;Here‚Äôs a simple example:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx build &lt;span class=&quot;nt&quot;&gt;--platform&lt;/span&gt; linux/amd64,linux/arm64 &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; myapp:latest &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This builds your image for both AMD64 (x86_64) and ARM64 architectures.&lt;/p&gt;

&lt;h3 id=&quot;building-and-pushing-to-a-registry&quot;&gt;Building and Pushing to a Registry&lt;/h3&gt;

&lt;p&gt;To build and push multi-platform images to a container registry:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx build &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;--platform&lt;/span&gt; linux/amd64,linux/arm64 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; myregistry.com/myapp:latest &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;--push&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;--push&lt;/code&gt; flag automatically pushes the images to your registry after building.&lt;/p&gt;

&lt;h3 id=&quot;loading-images-locally&quot;&gt;Loading Images Locally&lt;/h3&gt;

&lt;p&gt;If you want to build for multiple platforms and load the image into your local Docker instance (note: this only works for your current architecture):&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx build &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;--platform&lt;/span&gt; linux/arm64 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; myapp:latest &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;--load&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;--load&lt;/code&gt; flag loads the image into your local Docker daemon, but it only works with a single platform that matches your current architecture.&lt;/p&gt;

&lt;h2 id=&quot;-configuring-github-token-for-container-registry&quot;&gt;üîê Configuring GitHub Token for Container Registry&lt;/h2&gt;

&lt;p&gt;If you‚Äôre planning to push your multi-platform images to GitHub Container Registry (GHCR), you‚Äôll need to configure your GitHub token properly. Here‚Äôs a friendly reminder to set things up correctly!&lt;/p&gt;

&lt;h3 id=&quot;setting-up-your-gh_token&quot;&gt;Setting Up Your GH_TOKEN&lt;/h3&gt;

&lt;p&gt;First, create a Personal Access Token (PAT) on GitHub with the following permissions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;write:packages&lt;/code&gt; - Upload packages to GitHub Package Registry&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;read:packages&lt;/code&gt; - Download packages from GitHub Package Registry&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;delete:packages&lt;/code&gt; - Delete packages from GitHub Package Registry (optional)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;repo&lt;/code&gt; - Full control of private repositories (if pushing private images)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then, add it to your &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.zshrc&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Add this to your ~/.zshrc or ~/.bashrc&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;GH_TOKEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;your_github_personal_access_token_here&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Don‚Äôt forget to reload your shell configuration:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.zshrc  &lt;span class=&quot;c&quot;&gt;# for zsh&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# or&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bashrc  &lt;span class=&quot;c&quot;&gt;# for bash&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;authenticate-with-github&quot;&gt;Authenticate with GitHub&lt;/h3&gt;

&lt;p&gt;Once your token is configured, refresh your GitHub CLI authentication and log in to the container registry:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Refresh GitHub CLI authentication&lt;/span&gt;
gh auth refresh

&lt;span class=&quot;c&quot;&gt;# Login to GitHub Container Registry&lt;/span&gt;
docker login ghcr.io &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; &amp;lt;your-github-username&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When prompted for a password, use your &lt;code class=&quot;highlighter-rouge&quot;&gt;GH_TOKEN&lt;/code&gt; value (not your GitHub password).&lt;/p&gt;

&lt;p&gt;Alternatively, you can login directly using your token:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$GH_TOKEN&lt;/span&gt; | docker login ghcr.io &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; &amp;lt;your-github-username&amp;gt; &lt;span class=&quot;nt&quot;&gt;--password-stdin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;verify-your-authentication&quot;&gt;Verify Your Authentication&lt;/h3&gt;

&lt;p&gt;Test that everything is configured correctly:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gh auth status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;managing-builders&quot;&gt;Managing Builders&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker buildx &lt;span class=&quot;c&quot;&gt;# for help with buildx commands&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;wrapping-up&quot;&gt;Wrapping Up&lt;/h2&gt;

&lt;p&gt;Setting up multi-platform builds with OrbStack is straightforward and powerful. The &lt;code class=&quot;highlighter-rouge&quot;&gt;docker buildx create --name builder --driver docker-container --use&lt;/code&gt; command gives you access to cross-platform building capabilities that are essential in today‚Äôs diverse computing landscape.&lt;/p&gt;

&lt;p&gt;With OrbStack‚Äôs excellent performance on Apple Silicon and Docker Buildx‚Äôs multi-platform support, you can develop locally on ARM and confidently deploy to any architecture your production environment requires.&lt;/p&gt;

&lt;p&gt;Happy building! üöÄ&lt;/p&gt;</content><author><name></name></author></entry><entry><title type="html">bb-maid Gets a Major UX Upgrade: Install via bbin, Tab Completion and Cleaner Commands</title><link href="/2025/bbmaid/" rel="alternate" type="text/html" title="bb-maid Gets a Major UX Upgrade: Install via bbin, Tab Completion and Cleaner Commands" /><published>2025-10-02T00:00:00+02:00</published><updated>2025-10-02T00:00:00+02:00</updated><id>repo://posts.collection/_posts/2025/2025-10-02-bbmaid.md</id><content type="html" xml:base="/2025/bbmaid/">&lt;p&gt;Tonight was one of those productive coding sessions where small improvements snowball into something really polished. I‚Äôve been working on &lt;a href=&quot;https://github.com/simonneutert/bb-maid&quot;&gt;bb-maid&lt;/a&gt;, a Babashka script that helps keep directories clean by automatically removing expired folders, and we made some significant UX improvements that I‚Äôm excited to share.&lt;/p&gt;

&lt;h2 id=&quot;what-is-bb-maid&quot;&gt;What is bb-maid?&lt;/h2&gt;

&lt;p&gt;Before diving into the changes, let me quickly introduce bb-maid. It‚Äôs a Babashka script that works like a ‚Äúdigital housekeeper‚Äù for your filesystem. You create files named &lt;code class=&quot;highlighter-rouge&quot;&gt;cleanup-maid-YYYY-MM-DD&lt;/code&gt; in directories you want to expire, and bb-maid will prompt you to delete those directories once the date passes. Think of it like expiration labels on food containers, but for your code directories.&lt;/p&gt;

&lt;h2 id=&quot;the-journey-from-working-to-delightful&quot;&gt;The Journey: From Working to Delightful&lt;/h2&gt;

&lt;h3 id=&quot;phase-1-making-it-bbin-compatible&quot;&gt;Phase 1: Making it bbin-Compatible&lt;/h3&gt;

&lt;p&gt;The next challenge was making bb-maid installable via &lt;a href=&quot;https://github.com/babashka/bbin&quot;&gt;bbin&lt;/a&gt;, Babashka‚Äôs script manager. This required some structural changes:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Created proper namespace structure:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; src/simonneutert/bb_maid.clj&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ns&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;simonneutert.bb-maid&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:require&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bling.core&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:refer&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bling&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;callout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;babashka.fs&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:as&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-main&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; Command handling&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Added dependency management:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; deps.edn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:paths&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
 &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:deps&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io.github.paintparty/bling&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:mvn/version&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0.4.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Configured bbin entry point:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; bb.edn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:bbin/bin&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bb-maid&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;:main-opts&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-m&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;simonneutert.bb-maid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}}}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now users can install with a single command:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bbin &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;io.github.simonneutert/bb-maid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;phase-2-adding-the-clean-in-command&quot;&gt;Phase 2: Adding the &lt;code class=&quot;highlighter-rouge&quot;&gt;clean-in&lt;/code&gt; Command&lt;/h3&gt;

&lt;p&gt;The first improvement was adding a &lt;code class=&quot;highlighter-rouge&quot;&gt;clean-in&lt;/code&gt; command to make it easier to create cleanup files:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bb-maid clean-in 7d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This parses duration strings (like &lt;code class=&quot;highlighter-rouge&quot;&gt;7d&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;30d&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;90d&lt;/code&gt;) and creates a &lt;code class=&quot;highlighter-rouge&quot;&gt;cleanup-maid-YYYY-MM-DD&lt;/code&gt; file with the appropriate expiration date. No more manual date calculations!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Key features:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Natural duration syntax (&lt;code class=&quot;highlighter-rouge&quot;&gt;1d&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;7d&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;30d&lt;/code&gt;, etc.)&lt;/li&gt;
  &lt;li&gt;Automatically replaces existing cleanup files (preventing duplicates)&lt;/li&gt;
  &lt;li&gt;Styled terminal output using the &lt;a href=&quot;https://github.com/paintparty/bling&quot;&gt;bling&lt;/a&gt; library&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;phase-3-adding-professional-tab-completion&quot;&gt;Phase 3: Adding Professional Tab Completion&lt;/h3&gt;

&lt;p&gt;This was the big one. Modern CLI tools need great tab completion, and we added support for both &lt;strong&gt;zsh&lt;/strong&gt; and &lt;strong&gt;bash&lt;/strong&gt;.&lt;/p&gt;

&lt;h4 id=&quot;the-tab-completion-challenge&quot;&gt;The Tab Completion Challenge&lt;/h4&gt;

&lt;p&gt;The first attempt had the completion file named &lt;code class=&quot;highlighter-rouge&quot;&gt;bb-maid.zsh&lt;/code&gt;, but zsh wasn‚Äôt loading it. After some debugging, I discovered that &lt;strong&gt;zsh completion functions must be named with an underscore prefix&lt;/strong&gt; (e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;_bb-maid&lt;/code&gt;). This is a zsh convention that tells the completion system to auto-load the function.&lt;/p&gt;

&lt;h4 id=&quot;what-gets-completed&quot;&gt;What Gets Completed&lt;/h4&gt;

&lt;p&gt;The completion system is context-aware:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bb-maid &amp;lt;TAB&amp;gt;&lt;/code&gt; ‚Üí Shows &lt;code class=&quot;highlighter-rouge&quot;&gt;clean&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;clean-in&lt;/code&gt; commands&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bb-maid clean &amp;lt;TAB&amp;gt;&lt;/code&gt; ‚Üí Shows available directories&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bb-maid clean-in &amp;lt;TAB&amp;gt;&lt;/code&gt; ‚Üí Suggests common durations (1d, 7d, 14d, 30d, 60d, 90d)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;phase-4-cleaning-up-the-command-structure&quot;&gt;Phase 4: Cleaning Up the Command Structure&lt;/h3&gt;

&lt;p&gt;The final improvement was prompted by a great question: ‚ÄúWouldn‚Äôt &lt;code class=&quot;highlighter-rouge&quot;&gt;bb-maid clean /path/to/dir&lt;/code&gt; be cleaner?‚Äù&lt;/p&gt;

&lt;p&gt;Absolutely! The original API was:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bb-maid /path/to/dir        &lt;span class=&quot;c&quot;&gt;# Implicit clean command&lt;/span&gt;
bb-maid clean-in 7d         &lt;span class=&quot;c&quot;&gt;# Explicit command&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This inconsistency was confusing. Now it‚Äôs:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bb-maid clean /path/to/dir  &lt;span class=&quot;c&quot;&gt;# Explicit clean command&lt;/span&gt;
bb-maid clean-in 7d         &lt;span class=&quot;c&quot;&gt;# Explicit command&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Much more intuitive and consistent with modern CLI conventions!&lt;/p&gt;

&lt;h2 id=&quot;technical-lessons-learned&quot;&gt;Technical Lessons Learned&lt;/h2&gt;

&lt;h3 id=&quot;1-zsh-completion-naming-convention&quot;&gt;1. Zsh Completion Naming Convention&lt;/h3&gt;
&lt;p&gt;Completion files &lt;strong&gt;must&lt;/strong&gt; start with an underscore (&lt;code class=&quot;highlighter-rouge&quot;&gt;_bb-maid&lt;/code&gt;) for auto-loading to work. This is a zsh convention that‚Äôs easy to miss if you‚Äôre new to writing completions.&lt;/p&gt;

&lt;h3 id=&quot;2-glob-qualifiers-for-robust-paths&quot;&gt;2. Glob Qualifiers for Robust Paths&lt;/h3&gt;
&lt;p&gt;Using &lt;code class=&quot;highlighter-rouge&quot;&gt;(N)&lt;/code&gt; in zsh glob patterns makes them optional:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;fpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;~/.gitlibs/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;/completions&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;N&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Without &lt;code class=&quot;highlighter-rouge&quot;&gt;(N)&lt;/code&gt;, zsh will error if the path doesn‚Äôt exist yet.&lt;/p&gt;

&lt;h3 id=&quot;3-bbin-requires-proper-structure&quot;&gt;3. bbin Requires Proper Structure&lt;/h3&gt;
&lt;p&gt;For bbin compatibility, you need:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;deps.edn&lt;/code&gt; with dependencies&lt;/li&gt;
  &lt;li&gt;Proper namespace structure with &lt;code class=&quot;highlighter-rouge&quot;&gt;-main&lt;/code&gt; function&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;:bbin/bin&lt;/code&gt; configuration in &lt;code class=&quot;highlighter-rouge&quot;&gt;bb.edn&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Java/JDK for dependency resolution&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;4-context-aware-completion-is-delightful&quot;&gt;4. Context-Aware Completion is Delightful&lt;/h3&gt;
&lt;p&gt;Taking the time to make completion suggestions contextual (directories after &lt;code class=&quot;highlighter-rouge&quot;&gt;clean&lt;/code&gt;, durations after &lt;code class=&quot;highlighter-rouge&quot;&gt;clean-in&lt;/code&gt;) makes the tool feel polished and professional.&lt;/p&gt;</content><author><name></name></author></entry></feed>